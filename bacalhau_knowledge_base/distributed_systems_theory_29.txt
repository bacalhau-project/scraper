URL: https://www.the-paper-trail.org/post/2011-04-21-stm-not-much-more-than-a-research-toy/

Paper TrailBlogSTM: Not (much more than) a research toy?April 21, 2011It’s a sign of how down-trodden the Software Transactional Memory (STM) effort must have become that thearticle(sorry, ACM subscription required) published in a recent CACM might have been just as correctly called “STM: Not as bad as the worst possible case”. The authors present a series of experiments that demonstrate that highly concurrent STM code beatssequential, single threaded code. You’d hope that this had long ago become a given, but what this demonstrates is only hey, STM allowssomeparallelism. And this weak lower bound got a whole article.Another conclusion from the article is that STM performs best when there is little contention for transactions between threads. Again, that should really be a given - all reasonable concurrency primitives have high throughput when there is little contention but high parallelism. (A lot of work has gone into making this a very fast case (since it is the most common) for locking, see e.g.biased locking schemesin the Hotspot JVM).Bryan Cantrill (previously of Fishworks, now of Joyent)rips on transactional memorymore eloquently than I ever could. STM is a declarative solution to thread safety, which I like, but no more declarative really than synchronised blocks - and Cantrill points out the elephant in the room that the CACM article seemed to ignore: doing IO inside transactions is hugely problematic (because how precisely do you roll back a network packet?).A recent paper at SOSP 2009 calledOperating System Transactionsattacked this problem, although not from the viewpoint of STM, but to provide atomicity and isolation for situations where bugs arise from the separation between reads, and writes that depend on that read (Time Of Check To Time Of Use - TOCTTOU). Perhaps there’s an overlap between this paper and STM approaches, but it’s not clear whether the workloads inside an operating system’s system call layer are general enough to map onto typical user-space STM work.©  - 2023 ·Paper Trail·
  ThemeSimplenessPowered byHugo·