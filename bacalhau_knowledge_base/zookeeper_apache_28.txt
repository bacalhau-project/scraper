URL: https://zookeeper.apache.org/doc/r3.8.2/releasenotes.html

Apache>ZooKeeperProjectWikiZooKeeper 3.8 DocumentationOverviewWelcomeOverviewGetting StartedRelease NotesDeveloperAPI DocsProgrammer's GuideUse CasesJava ExampleBarrier and Queue TutorialRecipesAdmin & OpsAdministrator's GuideQuota GuideJMXHierarchical QuorumsOracle QuorumObservers GuideDynamic ReconfigurationZooKeeper CLIZooKeeper ToolsZooKeeper MonitorAudit LogsContributorZooKeeper InternalsMiscellaneousWikiFAQMailing ListsRelease Notes - ZooKeeper - Version 3.8.2BugZOOKEEPER-4674- C client tests don't pass on CIZOOKEEPER-4647- Tests don't pass on JDK20 because we try to mock InetAddressZOOKEEPER-4026- CREATE2 requests embeded in a MULTI request only get a regular CREATE responseZOOKEEPER-4393- Problem to connect to zookeeper in FIPS modeImprovementZOOKEEPER-3860- Avoid reverse DNS lookup for hostname verification when hostnames are provided in the connection urlTaskZOOKEEPER-4599- Upgrade Jetty to avoid CVE-2022-2048ZOOKEEPER-4669- Upgrade snappy-java to 1.1.9.1 in order to support M1 macsZOOKEEPER-4688- Upgrade cyclonedx-maven-plugin to 2.7.6ZOOKEEPER-4700- Update Jetty for fixing CVE-2023-26048 and CVE-2023-26049ZOOKEEPER-4707- Update snappy-java to address multiple CVEsZOOKEEPER-4709- Upgrade Netty to 4.1.94.FinalZOOKEEPER-4716- Upgrade jackson to 2.15.2 and suppress two false positive CVE errorsRelease Notes - ZooKeeper - Version 3.8.1BugZOOKEEPER-3652- Improper synchronization in ClientCnxnZOOKEEPER-4308- Flaky test: EagerACLFilterTest.testSetDataFailZOOKEEPER-4460- QuorumPeer overrides Thread.getId with different semanticsZOOKEEPER-4473- zooInspector create root node fail with path validateZOOKEEPER-4477- Single Kerberos ticket renewal failure can prevent all future renewals since Java 9ZOOKEEPER-4504- ZKUtil#deleteRecursive causing deadlock in HDFS HA functionalityZOOKEEPER-4505- CVE-2020-36518 - Upgrade jackson databind to 2.13.2.1ZOOKEEPER-4511- Flaky test: FileTxnSnapLogMetricsTest.testFileTxnSnapLogMetricsZOOKEEPER-4514- ClientCnxnSocketNetty throwing NPEZOOKEEPER-4515- ZK Cli quit command always logs errorZOOKEEPER-4537- Race between SyncThread and CommitProcessor threadZOOKEEPER-4654- Fix C client test compilation error in Util.cc.ImprovementZOOKEEPER-4289- Reduce the performance impact of Prometheus metricsZOOKEEPER-4529- Upgrade netty to 4.1.76.FinalZOOKEEPER-4531- Revert Netty TCNative changeZOOKEEPER-4551- Do not log spammy stacktrace when a client closes its connectionZOOKEEPER-4616- Upgrade docker image for the dev enviroment to resolve CVEsZOOKEEPER-4657- Publish SBOM artifactsZOOKEEPER-4659- Upgrade Commons CLI to 1.5.0 due to OWASP failing on 1.4 CVE-2021-37533ZOOKEEPER-4660- Suppress false positive OWASP failure for CVE-2021-37533ZOOKEEPER-4661- Upgrade Jackson Databind to 2.13.4.2 for CVE-2022-42003 CVE-2022-42004TaskZOOKEEPER-4479- Tests: C client test TestOperations.cc testTimeoutCausedByWatches1 is very flaky on CIZOOKEEPER-4510- dependency-check:check failing - reload4j-1.2.19.jar: CVE-2020-9493, CVE-2022-23307ZOOKEEPER-4627- High CVE-2022-2048 in jetty-*-9.4.46.v20220331.jar fixed in 9.4.47ZOOKEEPER-4632- Fix NPE from ConnectionMetricsTest.testRevalidateCountZOOKEEPER-4641- GH CI fails with error: implicit declaration of function FIPS_modeZOOKEEPER-4649- Upgrade netty to 4.1.86 because of CVE-2022-41915ZOOKEEPER-4666- Fix license files for Netty: some files are for 4.1.76 and some other files are for 4.1.86Sub-taskZOOKEEPER-4327- Flaky test: RequestThrottlerTestÂRelease Notes - ZooKeeper - Version 3.8.0New FeatureZOOKEEPER-3301- Enforce the quota limitZOOKEEPER-3601- introduce the fault injection framework: Byteman for ZooKeeperZOOKEEPER-3907- add a documentation about alerting on metricsZOOKEEPER-4211- Expose Quota Metrics to PrometheusImprovementZOOKEEPER-1871- Add an option to zkCli to wait for connection before executing commandsZOOKEEPER-2907- Logged request buffer isn't usefulZOOKEEPER-3730- fix a typo about watchManagerName in the zookeeperAdmin.mdZOOKEEPER-3798- remove the useless code in the ProposalRequestProcessor#processRequestZOOKEEPER-3800- improve the log printing the address when QuorumCnxManager#ListenerHandler's port bindsZOOKEEPER-3807- fix the bad format when website pages build due to bash markerZOOKEEPER-3841- remove useless codes in the Leader.javaZOOKEEPER-3849- improve the all logs with a necessary time unit at the start up of serverZOOKEEPER-3898- Fix typosZOOKEEPER-3942- move traceMask calculation logic into the trace log guardZOOKEEPER-3961- Inaccurate Error MessageZOOKEEPER-4001- AuditHelper.addAuditLog(...) more readableZOOKEEPER-4037- Closing autoCloseable resource with try-with-resources blockZOOKEEPER-4046- Fix typoZOOKEEPER-4058- Update checkstyle-strict.xml by the latest version 8.39 of checkstyleZOOKEEPER-4188- add a doc about whoami CLIZOOKEEPER-4209- Update Netty version to 4.1.53.Final on 3.5 branchZOOKEEPER-4217- Report caller function name inhandle_socket_error_msgZOOKEEPER-4231- Add document for snapshot compression configZOOKEEPER-4259- Allow AdminServer to force httpsZOOKEEPER-4280- fix the log format in the DataTree#deserializeZxidDigest methodZOOKEEPER-4281- Packet length sanity check is inconsistentZOOKEEPER-4284- Add metrics for observer sync timeZOOKEEPER-4291- ZooInspector has very high latency when operating against remote clustersZOOKEEPER-4294- FileSnap#findNValidSnapshots should not declare IOExceptionZOOKEEPER-4301- fix typoZOOKEEPER-4312- ZooKeeperServerEmbedded: enhance server start/stop for testabilityZOOKEEPER-4318- Only report the follower sync time metrics if sync is completedZOOKEEPER-4326- fix typo in the recipes.mdZOOKEEPER-4346- remove never used fieldZOOKEEPER-4349- delete the useless oraclePath directory generated by test suitZOOKEEPER-4350- improve the method: QuorumOracleMaj#overrideQuorumDecisionZOOKEEPER-4355- ZK documentation side bar and welcome page are out of syncZOOKEEPER-4370- add zookeeperOracleQuorums.html link to webpage indexZOOKEEPER-4380- Avoid NPE in RateLogger#rateLimitLogZOOKEEPER-4382- Update Maven Bundle Plugin in order to allow builds on JDK18ZOOKEEPER-4396- Read Key/trust store password from fileZOOKEEPER-4402- Added Hyperlink At LOGOZOOKEEPER-4411- improve the grammar issue[patch] in the README.mdZOOKEEPER-4427- Migrate to LogbackZOOKEEPER-4435- Typo in the log message of ServerCnxnFactoryZOOKEEPER-4453- NettyServerCnxnFactory: allow to configure the early TLS connection drop featureZOOKEEPER-4454- Upgrade Netty to 4.1.73ZOOKEEPER-4462- Upgrade Netty TCNative to 2.0.48BugZOOKEEPER-3128- Get CLI Command displays Authentication error for Authorization errorZOOKEEPER-3706- ZooKeeper.close() would leak SendThread when the network is brokenZOOKEEPER-3781- Zookeeper 3.5.7 not creating snapshotZOOKEEPER-3877- JMX Bean RemotePeerBean should enclose IPV6 host in square bracket same as LocalPeerBeanZOOKEEPER-3887- In SSL-only server zkServer.sh status command should use secureClientPortAddress instead of clientPortAddressZOOKEEPER-3943- Zookeeper Inspector throwing NullPointerExceptions and not displaying properlyZOOKEEPER-3987- Build failures when running surefire tests concurrently due to bind address already in useZOOKEEPER-3988- org.apache.zookeeper.server.NettyServerCnxn.receiveMessage throws NullPointerExceptionZOOKEEPER-3992- addWatch api should check the null watchZOOKEEPER-4007- A typo in the ZKUtil#validateFileInput methodZOOKEEPER-4050- Zookeeper Inspector reports "List of default node viewers is empty" when not specifically run from the zookeeper-contrib/zookeeper-contrib-zooinspector directoryZOOKEEPER-4191- Missing executable bits in source release tarballZOOKEEPER-4194- ZooInspector throws NullPointerExceptions to console when node data is nullZOOKEEPER-4201- C client: SASL-related compilation issues on macOS CatalinaZOOKEEPER-4204- Flaky test - RequestPathMetricsCollectorTest.testMultiThreadPerfZOOKEEPER-4205- Test fails when port 8080 is in useZOOKEEPER-4207- New CI pipeline checks out master in branch builds tooZOOKEEPER-4210- Zookeeper c client: detect connection loss during opportunistic async sendZOOKEEPER-4219- Quota checks break setData in multi transactionsZOOKEEPER-4220- Potential redundant connection attempts during leader electionZOOKEEPER-4230- Use dynamic temp folder instead of static temp folder in RestMainZOOKEEPER-4232- InvalidSnapshotTest corrupts its own test dataZOOKEEPER-4247- NPE while processing message from restarted quorum memberZOOKEEPER-4265- Download page broken linksZOOKEEPER-4266- Correct ZooKeeper version in documentation headerZOOKEEPER-4267- Fix check-style issuesZOOKEEPER-4269- acceptedEpoch.tmp rename failure will cause server startup errorZOOKEEPER-4272- Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21295ZOOKEEPER-4275- Slowness in sasl login or subject.doAs() causes zk client to falsely assume that the server did not respond, closes connection and goes to unnecessary retriesZOOKEEPER-4277- dependency-check:check failing - jetty-server-9.4.38 CVE-2021-28165ZOOKEEPER-4278- dependency-check:check failing - netty-transport-4.1.60.Final CVE-2021-21409ZOOKEEPER-4309- QuorumCnxManager's ListenerHandler thread leakZOOKEEPER-4311- Fsync errors are ignored in AtomicFileWritingIdiomZOOKEEPER-4325- IllegalArgumentException when use ZkUtil::listSubTreeBFS to list "/"ZOOKEEPER-4337- CVE-2021-34429 in jetty 9.4.38.v20210224 in zookeeper 3.7.0ZOOKEEPER-4342- Robustify C client against errors during SASL negotiationZOOKEEPER-4343- OWASP Dependency-Check fails with CVE-2021-29425, commons-io-2.6ZOOKEEPER-4345- Avoid NoSunchMethodException caused by shaded zookeeper jarZOOKEEPER-4356- Code blocks do not render correctly in ZK docs siteZOOKEEPER-4360- Avoid NPE during metrics execution if the leader is not set on a FOLLOWER nodeZOOKEEPER-4362- ZKDatabase.txnCount logged non transactional requestsZOOKEEPER-4367- Zookeeper#Login thread leak in case of Sasl AuthFailed.ZOOKEEPER-4372- Zookeeper lock recipe doesn't parse negative sequence numbers correctlyZOOKEEPER-4377- KeeperException.create has NullPointerException when low version client requests the high version serverZOOKEEPER-4406- fix the znode type for Barrier implementation in the zookeeperTutorial.mdTestZOOKEEPER-4319- Refactor AtomicFileWritingIdiomTest to use TempDir annotationZOOKEEPER-4333- QuorumSSLTest - testOCSP fails on JDK17ZOOKEEPER-4340- Add tab unit test for StringUtils#splitTaskZOOKEEPER-3957- Create Owasp check build on new Jenkins instanceZOOKEEPER-3970- Enable ZooKeeperServerController to expire sessionZOOKEEPER-3980- Fix Jenkinsfiles with new tool namesZOOKEEPER-4233- dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223ZOOKEEPER-4315- Fix NOTICE file in the source distributionZOOKEEPER-4384- Fix 'se[r]ver' typo in ClientCnxn class.ZOOKEEPER-4414- Update Netty to 4.1.70.FinalZOOKEEPER-4429- Update jackson-databind to 2.13.1ZOOKEEPER-4465- zooinspector logback pattern config add escape for '(' and ')'ZOOKEEPER-4469- Suppress OWASP false positives related to Netty TCNativeZOOKEEPER-4478- Suppress OWASP false positives zookeeper-jute-3.8.0-SNAPSHOT.jar: CVE-2021-29425, CVE-2021-28164, CVE-2021-34429Sub-taskZOOKEEPER-3774- Close quorum socket asynchronously on the leader to avoid ping being blocked by long socket closing timeZOOKEEPER-4251- Flaky test: org.apache.zookeeper.test.WatcherTestZOOKEEPER-4257- learner.asyncSending, learner.closeSocketAsync and leader.closeSocketAsync should be configurable in zoo.cfgZOOKEEPER-4270- Flaky test: QuorumPeerMainTest#testLeaderOutOfViewZOOKEEPER-4461- Migrate zookeeper-contrib and -recipes projects.BugZOOKEEPER-3128- Get CLI Command displays Authentication error for Authorization errorZOOKEEPER-3706- ZooKeeper.close() would leak SendThread when the network is brokenZOOKEEPER-3781- Zookeeper 3.5.7 not creating snapshotZOOKEEPER-3877- JMX Bean RemotePeerBean should enclose IPV6 host in square bracket same as LocalPeerBeanZOOKEEPER-3887- In SSL-only server zkServer.sh status command should use secureClientPortAddress instead of clientPortAddressZOOKEEPER-3943- Zookeeper Inspector throwing NullPointerExceptions and not displaying properlyZOOKEEPER-3987- Build failures when running surefire tests concurrently due to bind address already in useZOOKEEPER-3988- org.apache.zookeeper.server.NettyServerCnxn.receiveMessage throws NullPointerExceptionZOOKEEPER-3992- addWatch api should check the null watchZOOKEEPER-4007- A typo in the ZKUtil#validateFileInput methodZOOKEEPER-4050- Zookeeper Inspector reports "List of default node viewers is empty" when not specifically run from the zookeeper-contrib/zookeeper-contrib-zooinspector directoryZOOKEEPER-4191- Missing executable bits in source release tarballZOOKEEPER-4194- ZooInspector throws NullPointerExceptions to console when node data is nullZOOKEEPER-4201- C client: SASL-related compilation issues on macOS CatalinaZOOKEEPER-4204- Flaky test - RequestPathMetricsCollectorTest.testMultiThreadPerfZOOKEEPER-4205- Test fails when port 8080 is in useZOOKEEPER-4207- New CI pipeline checks out master in branch builds tooZOOKEEPER-4210- Zookeeper c client: detect connection loss during opportunistic async sendZOOKEEPER-4219- Quota checks break setData in multi transactionsZOOKEEPER-4220- Potential redundant connection attempts during leader electionZOOKEEPER-4230- Use dynamic temp folder instead of static temp folder in RestMainZOOKEEPER-4232- InvalidSnapshotTest corrupts its own test dataZOOKEEPER-4247- NPE while processing message from restarted quorum memberZOOKEEPER-4265- Download page broken linksZOOKEEPER-4266- Correct ZooKeeper version in documentation headerZOOKEEPER-4267- Fix check-style issuesZOOKEEPER-4269- acceptedEpoch.tmp rename failure will cause server startup errorZOOKEEPER-4272- Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21295ZOOKEEPER-4275- Slowness in sasl login or subject.doAs() causes zk client to falsely assume that the server did not respond, closes connection and goes to unnecessary retriesZOOKEEPER-4277- dependency-check:check failing - jetty-server-9.4.38 CVE-2021-28165ZOOKEEPER-4278- dependency-check:check failing - netty-transport-4.1.60.Final CVE-2021-21409ZOOKEEPER-4309- QuorumCnxManager's ListenerHandler thread leakZOOKEEPER-4311- Fsync errors are ignored in AtomicFileWritingIdiomZOOKEEPER-4325- IllegalArgumentException when use ZkUtil::listSubTreeBFS to list "/"ZOOKEEPER-4337- CVE-2021-34429 in jetty 9.4.38.v20210224 in zookeeper 3.7.0ZOOKEEPER-4342- Robustify C client against errors during SASL negotiationZOOKEEPER-4343- OWASP Dependency-Check fails with CVE-2021-29425, commons-io-2.6ZOOKEEPER-4345- Avoid NoSunchMethodException caused by shaded zookeeper jarZOOKEEPER-4356- Code blocks do not render correctly in ZK docs siteZOOKEEPER-4360- Avoid NPE during metrics execution if the leader is not set on a FOLLOWER nodeZOOKEEPER-4362- ZKDatabase.txnCount logged non transactional requestsZOOKEEPER-4367- Zookeeper#Login thread leak in case of Sasl AuthFailed.ZOOKEEPER-4372- Zookeeper lock recipe doesn't parse negative sequence numbers correctlyZOOKEEPER-4377- KeeperException.create has NullPointerException when low version client requests the high version serverZOOKEEPER-4406- fix the znode type for Barrier implementation in the zookeeperTutorial.mdNew FeatureZOOKEEPER-3301- Enforce the quota limitZOOKEEPER-3601- introduce the fault injection framework: Byteman for ZooKeeperZOOKEEPER-3907- add a documentation about alerting on metricsZOOKEEPER-4211- Expose Quota Metrics to PrometheusImprovementZOOKEEPER-1871- Add an option to zkCli to wait for connection before executing commandsZOOKEEPER-2907- Logged request buffer isn't usefulZOOKEEPER-3730- fix a typo about watchManagerName in the zookeeperAdmin.mdZOOKEEPER-3798- remove the useless code in the ProposalRequestProcessor#processRequestZOOKEEPER-3800- improve the log printing the address when QuorumCnxManager#ListenerHandler's port bindsZOOKEEPER-3807- fix the bad format when website pages build due to bash markerZOOKEEPER-3841- remove useless codes in the Leader.javaZOOKEEPER-3849- improve the all logs with a necessary time unit at the start up of serverZOOKEEPER-3898- Fix typosZOOKEEPER-3942- move traceMask calculation logic into the trace log guardZOOKEEPER-3961- Inaccurate Error MessageRelease Notes - ZooKeeper - Version 3.7.0New FeatureZOOKEEPER-1112- Add support for C client for SASL authenticationZOOKEEPER-3264- The benchmark tools for zookeeperZOOKEEPER-3301- Enforce the quota limitZOOKEEPER-3681- Add s390x support for Travis buildZOOKEEPER-3714- Add (Cyrus) SASL authentication support to Perl clientZOOKEEPER-3874- Official API to start ZooKeeper server from JavaZOOKEEPER-3948- Introduce a deterministic runtime behavior injection framework for ZooKeeperServer testingZOOKEEPER-3959- Allow multiple superUsers with SASLZOOKEEPER-3969- Add whoami  API and Cli commandZOOKEEPER-4030- Optionally canonicalize host names in quorum SASL authenticationImprovementZOOKEEPER-1871- Add an option to zkCli to wait for connection before executing commandsZOOKEEPER-2272- Code clean up in ZooKeeperServer and KerberosNameZOOKEEPER-2649- The ZooKeeper do not write in log session ID in which the client has been authenticated.ZOOKEEPER-2779- Add option to not set ACL for reconfig nodeZOOKEEPER-3101- Add comment reminding users to add cases to zerror when adding values to ZOO_ERRORSZOOKEEPER-3342- Use StandardCharsetsZOOKEEPER-3411- remove the deprecated CLI: ls2 and rmrZOOKEEPER-3427- Introduce SnapshotComparer that assists debugging with snapshots.ZOOKEEPER-3482- SASL (Kerberos) Authentication with SSL for clients and QuorumZOOKEEPER-3561- Generalize target authentication scheme for ZooKeeper authentication enforcement.ZOOKEEPER-3567- Add SSL support for the zk python clientZOOKEEPER-3581- use factory design pattern to refactor ZooKeeperMainZOOKEEPER-3582- refactor the async api call to lambda styleZOOKEEPER-3638- Update Jetty to 9.4.24.v20191120ZOOKEEPER-3640- Implement "batch mode" in cli_mtZOOKEEPER-3649- ls -s CLI need a line breakZOOKEEPER-3662- Remove NPE Possibility in Follower ClassZOOKEEPER-3663- Clean Up ZNodeName ClassZOOKEEPER-3666- remove the deprecated LogFormatter toolZOOKEEPER-3671- Use ThreadLocalConcurrent to Replace Random and Math.randomZOOKEEPER-3678- Remove Redundant GroupID from Maven POMsZOOKEEPER-3679- Upgrade maven-compiler-plugin For ZooKeeper-juteZOOKEEPER-3682- Stop initializing new SSL connection if ZK server is shutting downZOOKEEPER-3683- Discard requests that are delayed longer than a configured thresholdZOOKEEPER-3687- Jute Use JDK hashCode Methods for Native TypesZOOKEEPER-3688- Use StandardCharsets UTF-8 in Jute toStringZOOKEEPER-3690- Improving leader efficiency via not processing learner's requests in commit processorZOOKEEPER-3691- Use JDK String Join Method in ZK StringUtilsZOOKEEPER-3694- Use Map computeIfAbsent in AvgMinMaxCounterSet ClassZOOKEEPER-3708- Move Logging Code into Logging Guard in LearnerZOOKEEPER-3722- make logs of ResponseCache more readableZOOKEEPER-3728- move traceMask calculation logic into the trace log in the FinalRequestProcessor#processRequestZOOKEEPER-3741- Fix ZooKeeper 3.5 C client build on Fedora8ZOOKEEPER-3761- upgrade JLine jar dependencyZOOKEEPER-3767- fix a large amount of maven build warningsZOOKEEPER-3785- Make sources buildable with JDK14ZOOKEEPER-3786- Simplify generation of VersionInfoMain and InfoZOOKEEPER-3788- Add m2e configuration in pom.xml for Eclipse developersZOOKEEPER-3790- zkpython: Minor compilation and testing issuesZOOKEEPER-3791- Miscellaneous Maven improvementsZOOKEEPER-3796- Skip Learner Request made to ObserverMaster from going to next processorZOOKEEPER-3805- NIOServerCnxnFactory static block has no used codeZOOKEEPER-3808- correct the documentation about digest.enabledZOOKEEPER-3811- cleaning up the code,A static field should be directly referred by its class nameZOOKEEPER-3831- Add a test that does a minimal validation of Apache CuratorZOOKEEPER-3833- Do Not Override Plugin Versions from Apache Parent POMZOOKEEPER-3836- Use Commons and JDK Functions in ClientBaseZOOKEEPER-3839- ReconfigBackupTest Remove getFileContentZOOKEEPER-3883- new UncaughtExceptionHandler object with lambdaZOOKEEPER-3893- Enhance documentation for property ssl.clientAuthZOOKEEPER-3913- Upgrade to Netty 4.1.50.FinalZOOKEEPER-3919- Add ARM64 jobs to Travis-CIZOOKEEPER-3926- make the rc constant in the ClientCnxnZOOKEEPER-3934- upgrade dependency-check to version 6.0.0ZOOKEEPER-3935- Handle float metrics in check_zookeeperZOOKEEPER-3941- Upgrade commons-cli to 1.4ZOOKEEPER-3950- Add support for BCFKS key/trust store formatZOOKEEPER-3952- Remove commons-lang from ZooKeeperZOOKEEPER-3956- Remove json-simple from ZooKeeperZOOKEEPER-3958- Update dependency versions and eliminate java docs warningsZOOKEEPER-3960- Update ZooKeeper client documentation about key file format parametersZOOKEEPER-3971- Auto close resources with try catch blockZOOKEEPER-3978- Adding additional security metrics to zookeeperZOOKEEPER-3989- GenerateLoad needs to use log for protecting sensitive dataZOOKEEPER-4000- use the computeIfAbsent to simplify the Leader#processSync methodZOOKEEPER-4033- Remove unnecessary judgment of nullZOOKEEPER-4048- Upgrade Mockito to 3.6.28 - allow builds on JDK16ZOOKEEPER-4058- Update checkstyle-strict.xml by the latest version 8.39 of checkstyleZOOKEEPER-4188- add a doc about whoami CLIZOOKEEPER-4209- Update Netty version to 4.1.53.Final on 3.5 branchZOOKEEPER-4221- Improve the error message when message goes above jute.maxbufer sizeZOOKEEPER-4231- Add document for snapshot compression configBugZOOKEEPER-1105- c client zookeeper_close not send CLOSE_OP request to serverZOOKEEPER-1677- Misuse of INET_ADDRSTRLENZOOKEEPER-1998- C library calls getaddrinfo unconditionally from zookeeper_interestZOOKEEPER-2164- fast leader election keeps failingZOOKEEPER-2307- ZooKeeper not starting because acceptedEpoch is less than the currentEpochZOOKEEPER-2475- Include ZKClientConfig API in zoookeeper javadocZOOKEEPER-2490- infinitely connect on windowsZOOKEEPER-2836- QuorumCnxManager.Listener Thread Better handling of SocketTimeoutExceptionZOOKEEPER-3112- fd leak due to UnresolvedAddressException on connect.ZOOKEEPER-3215- Handle Java 9/11 additions of covariant return types to java.nio.ByteBuffer methodsZOOKEEPER-3426- ZK prime_connection(the Handshake) can complete without reading all the payload.ZOOKEEPER-3579- handle NPE gracefully when the watch parameter of zookeeper java client is nullZOOKEEPER-3613- ZKConfig fails to return proper value on getBoolean() when user accidentally includes spaces at the end of the valueZOOKEEPER-3642- Data inconsistency when the leader crashes right after sending SNAP syncZOOKEEPER-3644- Data loss after upgrading standalone ZK server 3.4.14 to 3.5.6 with snapshot.trust.empty=trueZOOKEEPER-3651- NettyServerCnxnFactoryTest is flakyZOOKEEPER-3653- Audit Log feature fails in a stand alone zookeeper setupZOOKEEPER-3654- Incorrect *_CFLAGS handling in AutomakeZOOKEEPER-3656- SyncRequestProcessor doesn't update lastFlushTime correctly on observersZOOKEEPER-3667- set jute.maxbuffer hexadecimal number throw parseInt errorZOOKEEPER-3698- NoRouteToHostException when starting large ZooKeeper cluster on localhostZOOKEEPER-3699- upgrade jackson-databind to address CVE-2019-20330ZOOKEEPER-3701- Split brain on log disk fullZOOKEEPER-3710- [trivial bug] fix compile error in PurgeTxnTest introduced by ZOOKEEPER-3231ZOOKEEPER-3726- invalid ipv6 address comparison in C clientZOOKEEPER-3737- Unable to eliminate log4j1 transitive dependencyZOOKEEPER-3738- Avoid use of broken codehaus properties-maven-pluginZOOKEEPER-3739- Remove use of com.sun.nio.file.SensitivityWatchEventModifierZOOKEEPER-3745- Update copyright notices from 2019 to 2020ZOOKEEPER-3748- Resolve release requirements in download pageZOOKEEPER-3769- fast leader election does not end if leader is taken downZOOKEEPER-3772- JettyAdminServer should not allow HTTP TRACE methodZOOKEEPER-3780- restore Version.getRevision() to be backward compatibleZOOKEEPER-3781- Zookeeper 3.5.7 not creating snapshotZOOKEEPER-3782- Replace filter with list comprehension for returning list in zk-merge-pr.pyZOOKEEPER-3793- Request throttling is broken when RequestThrottler is disabled or configured incorrectly.ZOOKEEPER-3801- Fix Jenkins link in pomZOOKEEPER-3814- ZooKeeper config propagates even with disabled dynamic reconfigZOOKEEPER-3818- fix zkServer.sh status command to support SSL-only serverZOOKEEPER-3829- Zookeeper refuses request after node expansionZOOKEEPER-3830- After add a new node, zookeeper cluster won't commit any proposal if this new node is leaderZOOKEEPER-3832- ZKHostnameVerifier rejects valid certificates with subjectAltNamesZOOKEEPER-3842- Rolling scale up of zookeeper cluster does not work with reconfigEnabled=falseZOOKEEPER-3863- Do not track global sessions in ReadOnlyZooKeeperServerZOOKEEPER-3865- fix backward-compatibility for ZooKeeperServer constructorZOOKEEPER-3876- zkServer.sh status command fails when IPV6 is configuredZOOKEEPER-3877- JMX Bean RemotePeerBean should enclose IPV6 host in square bracket same as LocalPeerBeanZOOKEEPER-3878- Client connection fails if IPV6 is not enclosed in square bracketsZOOKEEPER-3885- zoo_aremove_watches segfault: zk_hashtable needs locking!ZOOKEEPER-3891- ZKCli commands give wrong error message "Authentication is not valid" for insufficient permissionsZOOKEEPER-3895- Client side NullPointerException in case of empty Multi operationZOOKEEPER-3905- Race condition causes sessions to be created for clients even though their certificate authentication has failedZOOKEEPER-3911- Data inconsistency caused by DIFF sync uncommitted logZOOKEEPER-3933- owasp failing with json-simple-1.1.1.jar: CVE-2020-10663, CVE-2020-7712ZOOKEEPER-3937- C client: avoid out-of-order packets during SASL negotiationZOOKEEPER-3943- Zookeeper Inspector throwing NullPointerExceptions and not displaying properlyZOOKEEPER-3944- zookeeper c api sasl client memory leakZOOKEEPER-3951- Compile Error in Zookeeper.c without SASLZOOKEEPER-3954- use of uninitialized data in zookeeper-client/zookeeper-client-c/src/zookeeper.c:free_auth_completionZOOKEEPER-3955- added a shebang or a 'shell' directive to lastRevision.shZOOKEEPER-3979- Clients can corrupt the audit logZOOKEEPER-3983- C client test suite hangs forever 'sss' is configured in /etc/nsswitch.confZOOKEEPER-3987- Build failures when running surefire tests concurrently due to bind address already in useZOOKEEPER-3991- QuorumCnxManager Listener port bind retry does not retry DNS lookupZOOKEEPER-3992- addWatch api should check the null watchZOOKEEPER-3994- disconnect reason wrongZOOKEEPER-4045- CVE-2020-25649 - Upgrade jackson databind to 2.10.5.1ZOOKEEPER-4050- Zookeeper Inspector reports "List of default node viewers is empty" when not specifically run from the zookeeper-contrib/zookeeper-contrib-zooinspector directoryZOOKEEPER-4055- Dockerfile can't build Zookeeper C client libraryZOOKEEPER-4191- Missing executable bits in source release tarballZOOKEEPER-4199- Avoid thread leak in QuorumRequestPipelineTestZOOKEEPER-4200- WatcherCleanerTest often fails on macOS CatalinaZOOKEEPER-4201- C client: SASL-related compilation issues on macOS CatalinaZOOKEEPER-4205- Test fails when port 8080 is in useZOOKEEPER-4207- New CI pipeline checks out master in branch builds tooZOOKEEPER-4219- Quota checks break setData in multi transactionsZOOKEEPER-4220- Potential redundant connection attempts during leader electionZOOKEEPER-4230- Use dynamic temp folder instead of static temp folder in RestMainZOOKEEPER-4232- InvalidSnapshotTest corrupts its own test dataTestZOOKEEPER-3664- testWishZOOKEEPER-3415- convert internal logic to use java 8 streamsZOOKEEPER-3763- Restore ZKUtil.deleteRecursive in order to help compatibility of applications with 3.5 and 3.6TaskZOOKEEPER-3669- Use switch Statement in ClientCnxn SendThreadZOOKEEPER-3677- owasp checker failing for - CVE-2019-17571 Apache Log4j 1.2 deserialization of untrusted data in SocketServerZOOKEEPER-3695- Source release tarball does not match repository in 3.6.0ZOOKEEPER-3696- Support alternative algorithms for ACL digestZOOKEEPER-3704- upgrade maven dependency-check to 5.3.0ZOOKEEPER-3733- Fix issues reported in 3.6.0rc3ZOOKEEPER-3734- upgrade jackson-databind to address CVE-2020-8840ZOOKEEPER-3751- upgrade jackson-databind to 2.10 from 2.9ZOOKEEPER-3794- upgrade netty to address CVE-2020-11612ZOOKEEPER-3817- owasp failing due to CVE-2020-9488ZOOKEEPER-3896- Migrate Jenkins jobs to ci-hadoop.apache.orgZOOKEEPER-3957- Create Owasp check build on new Jenkins instanceZOOKEEPER-3962- Create .asf.yaml file for ZooKeeper repoZOOKEEPER-3967- Jetty License UpdateZOOKEEPER-3973- Create configuration files GitHub Actions CI buildsZOOKEEPER-3980- Fix Jenkinsfiles with new tool namesZOOKEEPER-3981- Flaky test MultipleAddressTest::testGetValidAddressWithNotValidZOOKEEPER-4017- Owasp check failing - Jetty 9.4.32 - CVE-2020-27216ZOOKEEPER-4023- dependency-check:check failing - Jetty 9.4.34.v20201102 - CVE-2020-27218ZOOKEEPER-4056- Update copyright notices from 2020 to 2021ZOOKEEPER-4233- dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223Sub-taskZOOKEEPER-837- cyclic dependency ClientCnxn, ZooKeeperZOOKEEPER-3574- Close quorum socket asynchronously to avoid server shutdown stalled by long socket closing timeZOOKEEPER-3575- Moving sending packets in Learner to a separate threadZOOKEEPER-3845- Add metric JVM_PAUSE_TIMEZOOKEEPER-3852- Upgrade jUnit in ZooKeeper-JuteZOOKEEPER-3854- Upgrade jUnit in ZooKeeper-RecipesZOOKEEPER-3855- Upgrade jUnit in ZooKeeper-Metrics-providersZOOKEEPER-3856- Add a couple metrics to track inflight diff syncs and snap syncsZOOKEEPER-3859- Add a couple request processor metricsZOOKEEPER-3862- Re-enable deprecation check after finishing jUnit upgradeZOOKEEPER-3872- Upgrade jUnit in ZooKeeper-serverZOOKEEPER-3953- Update hamcrest-library to version 2.2Copyright ©The Apache Software Foundation.