URL: https://zookeeper.apache.org/doc/r3.5.5/releasenotes.html

Apache>ZooKeeperProjectWikiZooKeeper 3.5 DocumentationOverviewWelcomeOverviewGetting StartedRelease NotesDeveloperAPI DocsProgrammer's GuideJava ExampleBarrier and Queue TutorialRecipesAdmin & OpsAdministrator's GuideQuota GuideJMXObservers GuideDynamic ReconfigurationContributorZooKeeper InternalsMiscellaneousWikiFAQMailing ListsRelease Notes - ZooKeeper - Version 3.5.5Java 8 users: if you are going to compile with Java 1.8, you should use a recent release at u211 or above.Sub-taskZOOKEEPER-2168- Add C APIs for new createContainer MethodsZOOKEEPER-2481- Flaky Test: testZeroWeightQuorumZOOKEEPER-2485- Flaky Test: org.apache.zookeeper.test.FourLetterWordsTest.testFourLetterWordsZOOKEEPER-2497- Flaky Test: org.apache.zookeeper.test.QuorumTest.testMultipleWatcherObjsZOOKEEPER-2499- Flaky Test: org.apache.zookeeper.test.SSLTest.testSecureQuorumServerZOOKEEPER-2538- Flaky Test: org.apache.zookeeper.server.quorum.Zab1_0Test.testNormalObserverRunZOOKEEPER-2940- Deal with maxbuffer as it relates to large requests from clientsZOOKEEPER-3022- Step 1.1 - Create docs and it maven structureZOOKEEPER-3028- Create assembly in pom.xmlZOOKEEPER-3029- Create pom files for jute, server and clientZOOKEEPER-3030- Step 1.3 - Create zk-contrib maven structureZOOKEEPER-3031- Step 1.4 - Create zk-client maven structureZOOKEEPER-3032- Step 1.6 - Create zk-server maven structureZOOKEEPER-3033- Step 1.2 - Create zk-recipes maven structureZOOKEEPER-3046- testManyChildWatchersAutoReset is flakyZOOKEEPER-3080- Step 1.5 - Separate jute structureZOOKEEPER-3153- Create MarkDown files and build process for themZOOKEEPER-3154- Update release process to use the MarkDown solutionZOOKEEPER-3155- Remove Forrest XMLs and their build process from the projectZOOKEEPER-3171- Create pom.xml for recipes and contribZOOKEEPER-3193- Flaky: org.apache.zookeeper.test.SaslAuthFailNotifyTestZOOKEEPER-3202- Flaky test: org.apache.zookeeper.test.ClientSSLTest.testClientServerSSLZOOKEEPER-3222- Flaky: multiple intermittent segfaults in C++ testsZOOKEEPER-3223- Configure SpotbugsZOOKEEPER-3224- CI integration with mavenZOOKEEPER-3225- Create code coverage analysis with maven buildZOOKEEPER-3226- Activate C Client with a profile, disabled by defaultZOOKEEPER-3256- Enable OWASP checks to Maven buildZOOKEEPER-3275- Fix release targets: package, tar, mvn-deployZOOKEEPER-3285- Move assembly into its own sub-moduleBugZOOKEEPER-1392- Should not allow to read ACL when not authorized to read nodeZOOKEEPER-1636- c-client crash when zoo_amulti failedZOOKEEPER-1818- Fix don't care for trunkZOOKEEPER-1823- zkTxnLogToolkit -dump should support printing transaction data as a stringZOOKEEPER-1919- Update the C implementation of removeWatches to have it match ZOOKEEPER-1910ZOOKEEPER-1990- suspicious instantiation of java Random instancesZOOKEEPER-2184- Zookeeper Client should re-resolve hosts when connection attempts failZOOKEEPER-2251- Add Client side packet response timeout to avoid infinite wait.ZOOKEEPER-2261- When only secureClientPort is configured connections, configuration, connection_stat_reset, and stats admin commands throw NullPointerExceptionZOOKEEPER-2284- LogFormatter and SnapshotFormatter does not handle FileNotFoundException gracefullyZOOKEEPER-2317- Non-OSGi compatible versionZOOKEEPER-2474- add a way for client to reattach to a session when using ZKClientConfigZOOKEEPER-2621- ZooKeeper doesn't start on MINGW32 (Windows)ZOOKEEPER-2750- Document SSL Support for Atomic Broadcast protocolZOOKEEPER-2778- Potential server deadlock between follower sync with leader and follower receiving external connection requests.ZOOKEEPER-2822- WrongObjectNameaboutMBeanServerin JMX moduleZOOKEEPER-2913- testEphemeralNodeDeletion is flakyZOOKEEPER-2920- Upgrade OWASP Dependency Check to 3.2.1ZOOKEEPER-2993- .ignore file prevents adding src/java/main/org/apache/jute/compiler/generated dir to git repoZOOKEEPER-3009- Potential NPE in NIOServerCnxnFactoryZOOKEEPER-3034- Facing issues while building from sourceZOOKEEPER-3041- Typo in error message, affects log analysisZOOKEEPER-3042- testFailedTxnAsPartOfQuorumLoss is flakyZOOKEEPER-3050- owasp ant target is highlighting jetty version needs to be updatedZOOKEEPER-3051- owasp complaining about jackson version usedZOOKEEPER-3059- EventThread leak in case of Sasl AuthFailedZOOKEEPER-3093- sync zerror(int rc) with newest error definitionsZOOKEEPER-3113- EphemeralType.get() fails to verify ephemeralOwner when currentElapsedTime() is small enoughZOOKEEPER-3125- Pzxid inconsistent issue when replaying a txn for a deleted nodeZOOKEEPER-3127- Fixing potential data inconsistency due to update last processed zxid with partial multi-op txnZOOKEEPER-3131- org.apache.zookeeper.server.WatchManager resource leakZOOKEEPER-3156- ZOOKEEPER-2184 causes kerberos principal to not have resolved host nameZOOKEEPER-3162- Broken lock semantics in C client lock-recipeZOOKEEPER-3165- Java 9: X509UtilTest.testCreateSSLContextWithoutTrustStorePassword failsZOOKEEPER-3194- Quorum TLS - fix copy/paste bug in ZKTrustManagerZOOKEEPER-3210- Typo in zookeeperInternals docZOOKEEPER-3217- owasp job flagging slf4j on trunkZOOKEEPER-3253- client should not send requests with cxid=-4, -2, or -1ZOOKEEPER-3265- Build failure on branch-3.4New FeatureZOOKEEPER-236- SSL Support for Atomic Broadcast protocolZOOKEEPER-2933- Ability to monitor the jute.maxBuffer usage in real-timeZOOKEEPER-3066- Expose on JMX of Followers the id of the current leaderImprovementZOOKEEPER-1908- setAcl should be have a recursive functionZOOKEEPER-2368- Client watches are not disconnected on closeZOOKEEPER-2825- 1. Remove unnecessary import; 2.containsinstead ofindexOf &gt; -1for more readable; 3. StandardizeStringBuilder#appendusage for CLIENT moduleZOOKEEPER-2826- Code refactoring forCLImoduleZOOKEEPER-2873- print error and/or abort on invalid server definitionZOOKEEPER-3019- Add a metric to track number of slow fsyncsZOOKEEPER-3021- Umbrella: Migrate project structure to Maven buildZOOKEEPER-3043- QuorumKerberosHostBasedAuthTest fails on Linux box: Unable to parse:includedir /etc/krb5.conf.d/ZOOKEEPER-3063- Track outstanding changes with ArrayDequeZOOKEEPER-3077- Build native C library outside of source directoryZOOKEEPER-3083- Remove some redundant and noisy log linesZOOKEEPER-3094- Make BufferSizeTest reliableZOOKEEPER-3097- Use Runnable instead of Thread for working items in WorkerService to improve the throughput of CommitProcessorZOOKEEPER-3110- Improve the closeSession throughput in PrepRequestProcessorZOOKEEPER-3152- Port ZK netty stack to netty 4ZOOKEEPER-3159- Flaky: ClientRequestTimeoutTest.testClientRequestTimeoutZOOKEEPER-3172- Quorum TLS - fix port unification to allow rolling upgradesZOOKEEPER-3173- Quorum TLS - support PEM trust/key storesZOOKEEPER-3174- Quorum TLS - support reloading trust/key storeZOOKEEPER-3175- Quorum TLS - test improvementsZOOKEEPER-3176- Quorum TLS - add SSL config optionsZOOKEEPER-3195- TLS - disable client-initiated renegotiationZOOKEEPER-3228- [TLS] Fix key usage extension in test certsZOOKEEPER-3229- [TLS] add AES-256 ciphers to default cipher listZOOKEEPER-3235- Enable secure processing and disallow DTDs in the SAXParserFactoryZOOKEEPER-3236- Upgrade BouncyCastleZOOKEEPER-3250- typo in doc - zookeeperInternalsZOOKEEPER-3262- Update dependencies flagged by OWASP reportZOOKEEPER-3272- Clean up netty4 code per Norman Maurer's review commentsZOOKEEPER-3273- Sync BouncyCastle version in Maven build and Ant buildZOOKEEPER-3274- Use CompositeByteBuf to queue data in NettyServerCnxnZOOKEEPER-3276- Make X509UtilTest.testCreateSSLServerSocketWithPort less flakyZOOKEEPER-3277- Add trace listener in NettyServerCnxnFactory only if trace logging is enabledZOOKEEPER-3312- Upgrade Jetty to 9.4.15.v20190215TestZOOKEEPER-1441- Some test cases are failing because Port bind issue.ZOOKEEPER-2955- Enable Clover code coverage reportZOOKEEPER-2968- Add C client code coverage testsZOOKEEPER-3074- Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetricsZOOKEEPER-3204- Reconfig tests are constantly failing on 3.5 after applying Java 11 fixTaskZOOKEEPER-925- Consider maven site generation to replace our forrest site and documentation generationZOOKEEPER-3062- introduce fsync.warningthresholdms constant for FileTxnLog LOG.warn messageZOOKEEPER-3120- add NetBeans nbproject directory to .gitignoreZOOKEEPER-3197- Improve documentation in ZooKeeperServer.superSecretZOOKEEPER-3230- Add Apache NetBeans Maven project files to .gitignoreZOOKEEPER-3254- Drop 'beta' qualifier from Branch 3.5Release Notes - ZooKeeper - Version 3.5.4Release 3.5.3 added a new featureZOOKEEPER-2169"Enable creation of nodes with TTLs". There was a major oversight when TTL nodes were implemented. The session ID generator for each server is seeded with the configured Server ID in the high byte. TTL Nodes were using the highest bit to denote a TTL node when used in the ephemeral owner. This meant that Server IDs > 127 that created ephemeral nodes would have those nodes always considered TTL nodes (with the TTL being essentially a random number).ZOOKEEPER-2901fixes the issue. By default TTL is disabled and must now be enabled in zoo.cfg. When TTL Nodes are enabled, the max Server ID changes from 255 to 254. See the documentation for TTL in the administrator guide (or the referenced JIRAs) for more details.Sub-taskZOOKEEPER-2754- Set up Apache Jenkins job that runs the flaky test analyzer script.ZOOKEEPER-2792- [QP MutualAuth]: Port ZOOKEEPER-1045 implementation from branch-3.4 to branch-3.5ZOOKEEPER-2903- Port ZOOKEEPER-2901 to 3.5.4ZOOKEEPER-2939- Deal with maxbuffer as it relates to proposalsZOOKEEPER-2981- Fix build on branch-3.5 for ZOOKEEPER-2939BugZOOKEEPER-1580- QuorumPeer.setRunning is not usedZOOKEEPER-1782- zookeeper.superUser is not as super as superDigestZOOKEEPER-1807- Observers spam each other creating connections to the election addrZOOKEEPER-2101- Transaction larger than max buffer of jute makes zookeeper unavailableZOOKEEPER-2249- CRC check failed when preAllocSize smaller than node dataZOOKEEPER-2316- comment does not match code logicZOOKEEPER-2338- c bindings should create socket's with SOCK_CLOEXEC to avoid fd leaks on fork/execZOOKEEPER-2349- Update documentation for snapCountZOOKEEPER-2355- Ephemeral node is never deleted if follower fails while reading the proposal packetZOOKEEPER-2491- C client build error in vs 2015ZOOKEEPER-2581- Not handled NullPointerException while creating key manager and trustManagerZOOKEEPER-2690- Update documentation source for ZOOKEEPER-2574ZOOKEEPER-2722- Flaky Test: org.apache.zookeeper.test.ReadOnlyModeTest.testSessionEstablishmentZOOKEEPER-2725- Upgrading to a global session fails with a multiopZOOKEEPER-2743- Netty connection leaks JMX connection bean upon connection close in certain race conditions.ZOOKEEPER-2747- Fix ZooKeeperAdmin Compilation WarningZOOKEEPER-2757- Incorrect path crashes zkCliZOOKEEPER-2758- Typo: transasction --> transactionZOOKEEPER-2775- ZK Client not able to connect with Xid out of order errorZOOKEEPER-2777- There is a typo in zk.py which prevents from using/compiling it.ZOOKEEPER-2783- follower disconnects and cannot reconnectZOOKEEPER-2785- Server inappropriately throttles connections under load before SASL completesZOOKEEPER-2786- Flaky test: org.apache.zookeeper.test.ClientTest.testNonExistingOpCodeZOOKEEPER-2797- Invalid TTL from misbehaving client nukes zookeeperZOOKEEPER-2798- Fix flaky test: org.apache.zookeeper.test.ReadOnlyModeTest.testConnectionEventsZOOKEEPER-2806- Flaky test: org.apache.zookeeper.server.quorum.FLEBackwardElectionRoundTest.testBackwardElectionRoundZOOKEEPER-2808- ACL with index 1 might be removed if it's only being used onceZOOKEEPER-2818- Improve the ZooKeeper#setACL java docZOOKEEPER-2819- Changing membership configuration via rolling restart does not work on 3.5.x.ZOOKEEPER-2841- ZooKeeper public include files leak porting changesZOOKEEPER-2845- Data inconsistency issue due to retain database in leader electionZOOKEEPER-2852- Snapshot size factor is not read from system propertyZOOKEEPER-2853- The lastZxidSeen in FileTxnLog.java is never being assignedZOOKEEPER-2859- CMake build doesn't support OS XZOOKEEPER-2861- Main-Class JAR manifest attribute is incorrectZOOKEEPER-2862- Incorrect javadoc syntax for web links in StaticHostProvider.javaZOOKEEPER-2874- Windows Debug builds don't link with/MTdZOOKEEPER-2890- Local automatic variable is left uninitialized and then freed.ZOOKEEPER-2893- very poor choice of logging if client fails to connect to serverZOOKEEPER-2901- Session ID that is negative causes mis-calculation of Ephemeral TypeZOOKEEPER-2905- Don't includeconfig.hinzookeeper.hZOOKEEPER-2906- The OWASP dependency check jar should not be included in the default classpathZOOKEEPER-2908- quorum.auth.MiniKdcTest.testKerberosLogin failing with NPE on java 9ZOOKEEPER-2909- Create ant task to generate ivy dependency reportsZOOKEEPER-2914- compiler warning using java 9ZOOKEEPER-2923- The comment of the variable matchSyncs in class CommitProcessor has a mistake.ZOOKEEPER-2924- Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrorsZOOKEEPER-2931- WriteLock recipe: incorrect znode ordering when the sessionId is part of the znode nameZOOKEEPER-2934- c versions of election and queue recipes do not compileZOOKEEPER-2936- Duplicate Keys in log4j.properties config filesZOOKEEPER-2944- Specify correct overflow valueZOOKEEPER-2948- Failing c unit tests on apache jenkinsZOOKEEPER-2949- SSL ServerName not set when using hostname, some proxies may failed to proxy the request.ZOOKEEPER-2951- zkServer.cmd does not start when JAVA_HOME ends with a \ZOOKEEPER-2953- Flaky Test: testNoLogBeforeLeaderEstablishmentZOOKEEPER-2959- ignore accepted epoch and LEADERINFO ack from observers when a newly elected leader computes new epochZOOKEEPER-2961- Fix testElectionFraud FlakynessZOOKEEPER-2964- "Conf" command returns dataDir and dataLogDir opposinglyZOOKEEPER-2978- fix potential null pointer exception when deleting nodeZOOKEEPER-2982- Re-try DNS hostname -> IP resolutionZOOKEEPER-2988- NPE triggered if server receives a vote for a server id not in their voting viewZOOKEEPER-2992- The eclipse build target fails due to protocol redirection: http->httpsZOOKEEPER-2997- CMake should not force static CRT linkingZOOKEEPER-3001- Incorrect log message when try to delete container nodeZOOKEEPER-3006- Potential NPE in ZKDatabase#calculateTxnLogSizeLimitZOOKEEPER-3007- Potential NPE in ReferenceCountedACLCache#deserializeZOOKEEPER-3025- cmake windows build is broken on jenkinsZOOKEEPER-3027- Accidently removed public API of FileTxnLog.setPreallocSize()ZOOKEEPER-3038- Cleanup some nitpicks in TTL implementationZOOKEEPER-3039- TxnLogToolkit uses Scanner badlyNew FeatureZOOKEEPER-1703- Please add instructions for running the tutorialZOOKEEPER-2875- Add ant task for running OWASP dependency reportZOOKEEPER-2994- Tool required to recover log and snapshot entries with CRC errorsImprovementZOOKEEPER-1748- TCP keepalive for leader election connectionsZOOKEEPER-2359- ZooKeeper client has unnecessary logs for watcher removal errorsZOOKEEPER-2638- ZooKeeper should log which serverCnxnFactory is used during startupZOOKEEPER-2662- Export a metric for txn log sync timesZOOKEEPER-2697- Handle graceful stop of ZookKeeper clientZOOKEEPER-2744- Typos in the comments of ZooKeeper classZOOKEEPER-2767- Correct the exception messages in X509Util if truststore location or password is not configuredZOOKEEPER-2788- The define of MAX_CONNECTION_ATTEMPTS in QuorumCnxManager.java seems useless, should it be removed?ZOOKEEPER-2815- 1. Using try clause to close resource; 2. Others code refactoring for PERSISTENCE moduleZOOKEEPER-2816- Code refactoring forZK_SERVERmoduleZOOKEEPER-2824-FileChannel#sizeinfo should be added toFileTxnLog#committo solve the confuse that reason is too large log or too busy disk I/OZOOKEEPER-2829- Interface usability / compatibility improvements through Java annotation.ZOOKEEPER-2856- ZooKeeperSaslClient#respondToServer should log exception message of SaslExceptionZOOKEEPER-2864- Add script to run a java api compatibility toolZOOKEEPER-2865- Reconfig Causes Inconsistent Configuration file among the nodesZOOKEEPER-2870- Improve the efficiency of AtomicFileOutputStreamZOOKEEPER-2880- Rename README.txt to README.mdZOOKEEPER-2887- define dependency versions in build.xml to be easily overridden in build.propertiesZOOKEEPER-2896- Remove unused imports from org.apache.zookeeper.test.CreateTest.javaZOOKEEPER-2904- Remove unused imports from org.apache.zookeeper.server.quorum.WatchLeakTestZOOKEEPER-2915- Use "strict" conflict management in ivyZOOKEEPER-2950- Add keys for the Zxid from the stat command to check_zookeeper.pyZOOKEEPER-2952- Upgrade third party libraries to address vulnerabilitiesZOOKEEPER-2967- Add check to validate dataDir and dataLogDir parameters at startupZOOKEEPER-2971- Create release notes for 3.5.4ZOOKEEPER-2999- CMake build should use target-level commandsZOOKEEPER-3012- Fix unit test: testDataDirAndDataLogDir should not use hardcode test foldersTestZOOKEEPER-2415- SessionTest is using Thread deprecated API.ZOOKEEPER-2577- Flaky Test: org.apache.zookeeper.server.quorum.ReconfigDuringLeaderSyncTest.testDuringLeaderSyncZOOKEEPER-2742- Few test cases of org.apache.zookeeper.ZooKeeperTest fails in WindowsZOOKEEPER-2746- Leader hand-off during dynamic reconfig is best effort, while test always expects itZOOKEEPER-2796- Test org.apache.zookeeper.ZooKeeperTest.testCreateNodeWithoutData is broken by ZOOKEEPER-2757WishZOOKEEPER-2795- Change log level for "ZKShutdownHandler is not registered" error messageTaskZOOKEEPER-2713- Create CVE text for ZOOKEEPER-2693 "DOS attack on wchp/wchc four letter words (4lw)"ZOOKEEPER-3002- Upgrade branches 3.5 and trunk to Java 1.8ZOOKEEPER-3017- Link libm in CMake on FreeBSDRelease Notes - ZooKeeper - Version 3.5.3Sub-taskZOOKEEPER-2080- Fix deadlock in dynamic reconfigurationZOOKEEPER-2152- Intermittent failure in TestReconfig.ccZOOKEEPER-2692- Fix race condition in testWatchAutoResetWithPendingBugZOOKEEPER-1256- ClientPortBindTest is failing on Mac OS XZOOKEEPER-1806- testCurrentServersAreObserversInNextConfig failing frequently on trunk with non-jdk6ZOOKEEPER-1898- ZooKeeper Java cli shell always returns "0" as exit codeZOOKEEPER-1927- zkServer.sh fails to read dataDir (and others) from zoo.cfg on Solaris 10 (grep issue, manifests as FAILED TO WRITE PID).ZOOKEEPER-2014- Only admin should be allowed to reconfig a clusterZOOKEEPER-2074- Incorrect exit codes for "./zkCli.sh cmd arg"ZOOKEEPER-2172- Cluster crashes when reconfig a new node as a participantZOOKEEPER-2247- Zookeeper service becomes unavailable when leader fails to write transaction logZOOKEEPER-2383- Startup race in ZooKeeperServerZOOKEEPER-2442- Socket leak in QuorumCnxManager connectOneZOOKEEPER-2460- Remove javacc dependency from public Maven pomZOOKEEPER-2463- TestMulti is broken in the C clientZOOKEEPER-2464- NullPointerException on ContainerManagerZOOKEEPER-2465- Documentation copyright notice is out of date.ZOOKEEPER-2467- NullPointerException when redo Command is passed negative valueZOOKEEPER-2470- ServerConfig#parse(String[]) ignores tickTimeZOOKEEPER-2477- documentation should refer to Java cli shell and not C cli shellZOOKEEPER-2498- Potential resource leak in C client when processing unexpected / out of order responseZOOKEEPER-2500- Fix compilation warnings for CliException classesZOOKEEPER-2517- jute.maxbuffer is ignoredZOOKEEPER-2536- When provide path for "dataDir" with trailing space, it is taking correct path (by trucating space) for snapshot but creating temporary file with some junk folder name for zookeeper_server.pidZOOKEEPER-2537- When provide path for "dataDir" with heading space, it is taking correct path (by trucating space) for snapshot but zookeeper_server.pid is getting created in root (/) folderZOOKEEPER-2539- Throwing nullpointerException when run the command "config -c" when client port is mentioned as separate and not like new styleZOOKEEPER-2548- zooInspector does not start on WindowsZOOKEEPER-2558- Potential memory leak in recordio.cZOOKEEPER-2573- Modify Info.REVISION to adapt git repoZOOKEEPER-2574- PurgeTxnLog can inadvertently delete required txn log filesZOOKEEPER-2579- ZooKeeper server should verify that dataDir and snapDir are writeable before startingZOOKEEPER-2606- SaslServerCallbackHandler#handleAuthorizeCallback() should log the exceptionZOOKEEPER-2611- zoo_remove_watchers - can remove the wrong watchZOOKEEPER-2617- correct a few spelling typosZOOKEEPER-2622- ZooTrace.logQuorumPacket does nothingZOOKEEPER-2627- Remove ZRWSERVERFOUND from C client and replace handle_error with something more semantically explicit for r/w server reconnect.ZOOKEEPER-2628- Investigate and fix findbug warningsZOOKEEPER-2633- Build failure in contrib/zkfuse with gcc 6.xZOOKEEPER-2635- Regenerate documentationZOOKEEPER-2636- Fix C build break.ZOOKEEPER-2642- ZooKeeper reconfig API backward compatibility fixZOOKEEPER-2647- Fix TestReconfigServer.ccZOOKEEPER-2651- Missing src/pom.template in releaseZOOKEEPER-2678- Large databases take a long time to regain a quorumZOOKEEPER-2680- Correct DataNode.getChildren() inconsistent behaviour.ZOOKEEPER-2683- RaceConditionTest is flakyZOOKEEPER-2687- Deadlock while shutting down the Leader server.ZOOKEEPER-2693- DOS attack on wchp/wchc four letter words (4lw)ZOOKEEPER-2726- Patch for ZOOKEEPER-2693 introduces potential race conditionZOOKEEPER-2737- NettyServerCnxFactory leaks connection if exception happens while writing to a channel.ImprovementZOOKEEPER-2479- Add 'electionTimeTaken' value in LeaderMXBean and FollowerMXBeanZOOKEEPER-2489- Upgrade Jetty dependency to a recent stable release version.ZOOKEEPER-2505- Use shared library instead of static library in C client unit testZOOKEEPER-2507- C unit test improvement: line break between 'ZooKeeper server started' and 'Running'ZOOKEEPER-2511- Implement AutoCloseable in ZooKeeper.javaZOOKEEPER-2557- Update gitignore to account for other file extensionsZOOKEEPER-2594- Use TLS for downloading artifacts during buildZOOKEEPER-2620- Add comments to testReadOnlySnapshotDir and testReadOnlyTxnLogDir indicating that the tests will fail when run as rootZOOKEEPER-2655- Improve NIOServerCnxn#isZKServerRunning to reflect the semantics correctlyZOOKEEPER-2672- Remove CHANGE.txtZOOKEEPER-2682- Make it optional to fail build on test failureZOOKEEPER-2724- Skip cert files for releaseaudit target.New FeatureZOOKEEPER-1962- Add a CLI command to recursively list a znode and childrenZOOKEEPER-2719- Port ZOOKEEPER-2169 to 3.5 branchTaskZOOKEEPER-2658- Trunk / branch-3.5 build broken.ZOOKEEPER-2709- Clarify documentation around "auth" ACL schemeZOOKEEPER-2734- 3.5.3 should be a beta release instead of alpha release.TestZOOKEEPER-2482- Flaky Test: org.apache.zookeeper.test.ClientPortBindTest.testBindByAddressZOOKEEPER-2483- Flaky Test: org.apache.zookeeper.test.LETest.testLEZOOKEEPER-2484- Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testLoadFailureZOOKEEPER-2508- Many ZooKeeper tests are flaky because they proceed with zk operation without connecting to ZooKeeper server.ZOOKEEPER-2656- Fix ServerConfigTest#testValidArguments test case failuresZOOKEEPER-2664- ClientPortBindTest#testBindByAddress may fail due to "No such device" exceptionZOOKEEPER-2665- Port QA github pull request build to branch 3.4 and 3.5ZOOKEEPER-2716- Flaky Test: org.apache.zookeeper.server.SessionTrackerTest.testAddSessionAfterSessionExpiryZOOKEEPER-2718- org.apache.zookeeper.server.quorum.StandaloneDisabledTest fails intermittentlyRelease Notes - ZooKeeper - Version 3.5.2Sub-taskZOOKEEPER-1872- QuorumPeer is not shutdown in few casesZOOKEEPER-2094- SSL feature on NettyZOOKEEPER-2137- Make testPortChange() less flakyZOOKEEPER-2396- Login object in ZooKeeperSaslClient is staticBugZOOKEEPER-412- checkstyle target fails trunk buildZOOKEEPER-706- large numbers of watches can cause session re-establishment to failZOOKEEPER-1029- C client bug in zookeeper_init (if bad hostname is given)ZOOKEEPER-1077- C client lib doesn't build on SolarisZOOKEEPER-1371- Remove dependency on log4j in the source code.ZOOKEEPER-1460- IPv6 literal address not supported for quorum membersZOOKEEPER-1676- C client zookeeper_interest returning ZOK on Connection LossZOOKEEPER-1803- Add description for pzxid in programmer's guide.ZOOKEEPER-1853- zkCli.sh can't issue a CREATE command containing spaces in the dataZOOKEEPER-1927- zkServer.sh fails to read dataDir (and others) from zoo.cfg on Solaris 10 (grep issue, manifests as FAILED TO WRITE PID).ZOOKEEPER-1929- std::length_error on update childrenZOOKEEPER-1991- zkServer.sh returns with a zero exit status when a ZooKeeper process is already runningZOOKEEPER-2133- zkperl: Segmentation fault if getting a node with null valueZOOKEEPER-2141- ACL cache in DataTree never removes entriesZOOKEEPER-2142- JMX ObjectName is incorrect for observersZOOKEEPER-2156- If JAVA_HOME is not set zk startup and fetching status command execution result misleads user.ZOOKEEPER-2174- JUnit4ZKTestRunner logs test failure for all exceptions even if the test method is annotated with an expected exception.ZOOKEEPER-2195- fsync.warningthresholdms in zoo.cfg not workingZOOKEEPER-2201- Network issues can cause cluster to hang due to near-deadlockZOOKEEPER-2211- PurgeTxnLog does not correctly purge when snapshots and logs are at different locationsZOOKEEPER-2227- stmk four-letter word fails execution at server while reading trace mask argument.ZOOKEEPER-2229- Several four-letter words are undocumented.ZOOKEEPER-2235- License updateZOOKEEPER-2239- JMX State from LocalPeerBean incorrectZOOKEEPER-2243- Supported platforms is completely out of dateZOOKEEPER-2244- On Windows zookeeper fails to restartZOOKEEPER-2245- SimpleSysTest test cases failsZOOKEEPER-2252- Random test case failure in org.apache.zookeeper.test.StaticHostProviderTestZOOKEEPER-2256- Zookeeper is not using specified JMX port in zkEnv.shZOOKEEPER-2264- Wrong error message when secureClientPortAddress is configured but secureClientPort is not configuredZOOKEEPER-2268- Zookeeper doc creation fails on windowsZOOKEEPER-2269- NullPointerException in RemotePeerBeanZOOKEEPER-2279- QuorumPeer loadDataBase() error message is incorrectZOOKEEPER-2281- ZK Server startup fails if there are spaces in the JAVA_HOME pathZOOKEEPER-2283- traceFile property is not used in the ZooKeeper, it should be removed from documentationZOOKEEPER-2294- Ant target generate-clover-reports is brokenZOOKEEPER-2295- TGT refresh time logic is wrongZOOKEEPER-2297- NPE is thrown while creating "key manager" and "trust manager"ZOOKEEPER-2299- NullPointerException in LocalPeerBean for ClientAddressZOOKEEPER-2301- QuorumPeer does not listen on passed client IP in the constructorZOOKEEPER-2302- Some test cases are not running because wrongly namedZOOKEEPER-2304- JMX ClientPort from ZooKeeperServerBean incorrectZOOKEEPER-2311- assert in setup_randomZOOKEEPER-2329- Clear javac and javadoc warning from zookeeperZOOKEEPER-2330- ZooKeeper close API does not close Login thread.ZOOKEEPER-2337- Fake "invalid" hostnames used in tests are sometimes validZOOKEEPER-2340- JMX is disabled even if JMXDISABLE is falseZOOKEEPER-2360- Update commons collections version used by tests/releaseauditZOOKEEPER-2364- "ant docs" fails on branch-3.5 due to missing releasenotes.xml.ZOOKEEPER-2366- Reconfiguration of client port causes a socket leakZOOKEEPER-2375- Prevent multiple initialization of login object in each ZooKeeperSaslClient instanceZOOKEEPER-2379- recent commit broke findbugs qabot checkZOOKEEPER-2380- Deadlock between leader shutdown and forwarding ACK to the leaderZOOKEEPER-2385- Zookeeper trunk build is failing on windowsZOOKEEPER-2388- Unit tests failing on SolarisZOOKEEPER-2393- Revert run-time dependency on log4j and slf4j-log4j12ZOOKEEPER-2405- getTGT() in Login.java mishandles confidential informationZOOKEEPER-2413- ContainerManager doesn't close the Timer it creates when stop() is calledZOOKEEPER-2450- Upgrade Netty version due to security vulnerability (CVE-2014-3488)ZOOKEEPER-2457- Remove license file for servlet-api dependencyZOOKEEPER-2458- Remove license file for servlet-api dependencyZOOKEEPER-2459- Update NOTICE file with Netty noticeImprovementZOOKEEPER-2040- Server to log underlying cause of SASL connection problemsZOOKEEPER-2087- Few UX improvements in ZooInspectorZOOKEEPER-2139- Support multiple ZooKeeper client, with different configurations, in a single JVMZOOKEEPER-2191- Continue supporting prior Ant versions that don't implement the threads attribute for the JUnit task.ZOOKEEPER-2240- Make the three-node minimum more explicit in documentation and on websiteZOOKEEPER-2300- Expose SecureClientPort and SecureClientAddress JMX propertiesZOOKEEPER-2306- Remove file delete duplicate code from test codeZOOKEEPER-2315- Change client connect zk service timeout log level from Info to Warn levelZOOKEEPER-2326- Include connected server address:port in logZOOKEEPER-2373- Licenses section missing from pom fileZOOKEEPER-2378- upgrade ivy to recent versionZOOKEEPER-2392- Update netty to 3.7.1.FinalZOOKEEPER-2402- Document client side propertiesZOOKEEPER-2410- add time unit to 'ELECTION TOOK' log.info messageZOOKEEPER-2433- ZooKeeperSaslServer: allow user principals in subjectTaskZOOKEEPER-1604- remove rpm/deb/... packagingRelease Notes - ZooKeeper - Version 3.5.1Sub-taskZOOKEEPER-1626- Zookeeper C client should be tolerant of clock adjustmentsZOOKEEPER-1660- Add documentation for dynamic reconfigurationZOOKEEPER-2047- testTruncationNullLog fails on windowsZOOKEEPER-2069- Netty Support for ClientCnxnSocketZOOKEEPER-2119- Netty client docsZOOKEEPER-2123- Provide implementation of X509 AuthenticationProviderZOOKEEPER-2125- SSL on Netty client-server communicationZOOKEEPER-2134- AsyncHammerTest.testHammer fails intermittentlyZOOKEEPER-2153- X509 Authentication DocumentationBugZOOKEEPER-1366- Zookeeper should be tolerant of clock adjustmentsZOOKEEPER-1784- Logic to process INFORMANDACTIVATE packets in syncWithLeader seems bogusZOOKEEPER-1893- automake: use serial-tests optionZOOKEEPER-1917- Apache Zookeeper logs cleartext admin passwordsZOOKEEPER-1949- recipes jar not included in the distribution packageZOOKEEPER-1952- Default log directory and file name can be changedZOOKEEPER-1987- unable to restart 3 node clusterZOOKEEPER-2006- Standalone mode won't take client port from dynamic configZOOKEEPER-2008- System test fails due to missing leader election portZOOKEEPER-2013- typos in zookeeperProgrammersZOOKEEPER-2026- Startup order in ServerCnxnFactory-ies is wrongZOOKEEPER-2029- Leader.LearnerCnxAcceptor should handle exceptions in run()ZOOKEEPER-2030- dynamicConfigFile should have an absolute path, not a relative path, to the dynamic configuration fileZOOKEEPER-2039- Jute compareBytes incorrect comparison indexZOOKEEPER-2049- Yosemite build failure: htonll conflictZOOKEEPER-2052- Unable to delete a node when the node has no childrenZOOKEEPER-2056- Zookeeper 3.4.x and 3.5.0-alpha is not OSGi compliantZOOKEEPER-2060- Trace bug in NettyServerCnxnFactoryZOOKEEPER-2062- RemoveWatchesTest takes forever to runZOOKEEPER-2064- Prevent resource leak in various classesZOOKEEPER-2072- Netty Server Should Configure Child Channel Pipeline By Specifying ChannelPipelineFactoryZOOKEEPER-2073- Memory leak on zookeeper_closeZOOKEEPER-2096- C client builds with incorrect error codes in VisualStudio 2010+ZOOKEEPER-2109- Typo in src/c/src/load_gen.cZOOKEEPER-2111- Not isAlive states should be synchronized in ClientCnxnZOOKEEPER-2114- jute generated allocate_* functions are not externally visibleZOOKEEPER-2124- Allow Zookeeper version string to have underscore '_'ZOOKEEPER-2146- BinaryInputArchive readString should check length before allocating memoryZOOKEEPER-2157- Upgrade option should be removed from zkServer.sh usageZOOKEEPER-2171- avoid reverse lookups in QuorumCnxManagerZOOKEEPER-2173- ZK startup failure should be handled with proper error messageZOOKEEPER-2178- Native client fails compilation on Windows.ZOOKEEPER-2182- Several test suites are not running during pre-commit, because their names do not end with "Test".ZOOKEEPER-2186- QuorumCnxManager#receiveConnection may crash with random inputZOOKEEPER-2187- remove duplicated code between CreateRequest{,2}ZOOKEEPER-2190- In StandaloneDisabledTest, testReconfig() shouldn't take leaving servers as joining serversZOOKEEPER-2193- reconfig command completes even if parameter is wrong obviouslyZOOKEEPER-2197- non-ascii character in FinalRequestProcessor.javaZOOKEEPER-2198- Set default test.junit.threads to 1.ZOOKEEPER-2199- Don't include unistd.h in windowsZOOKEEPER-2210- clock_gettime is not available in os xZOOKEEPER-2212- distributed race condition related to QV versionZOOKEEPER-2213- Empty path in Set crashes server and prevents restartZOOKEEPER-2221- Zookeeper JettyAdminServer server should start on configured IP.ZOOKEEPER-2224- Four letter command hangs when network is slowZOOKEEPER-2235- License updateImprovementZOOKEEPER-1423- 4lw and jmx should expose the size of the datadir/datalogdirZOOKEEPER-1506- Re-try DNS hostname -> IP resolution if node connection failsZOOKEEPER-1907- Improve Thread handlingZOOKEEPER-1948- Enable JMX remote monitoringZOOKEEPER-1963- Make JDK 7 the minimum requirement for ZookeeperZOOKEEPER-1994- Backup config files.ZOOKEEPER-2066- Updates to README.txtZOOKEEPER-2079- Stop daemon with "kill" rather than "kill -9"ZOOKEEPER-2098- QuorumCnxManager: use BufferedOutputStream for initial msgZOOKEEPER-2107- zookeeper client should support custom HostProvidersZOOKEEPER-2110- Typo fixes in the ZK documentationZOOKEEPER-2126- Improve exit log messsage of EventThread and SendThread by adding SessionIdZOOKEEPER-2140- NettyServerCnxn and NIOServerCnxn code should be improvedZOOKEEPER-2149- Logging of client address when socket connection establishedZOOKEEPER-2176- Unclear error message should be info not errorZOOKEEPER-2183- Concurrent Testing Processes and Port AssignmentsZOOKEEPER-2185- Run server with -XX:+HeapDumpOnOutOfMemoryError and -XX:OnOutOfMemoryError='kill %p'.ZOOKEEPER-2194- Let DataNode.getChildren() return an unmodifiable view of its children setZOOKEEPER-2205- Log type of unexpected quorum packet in learner handler loopZOOKEEPER-2206- Add missing packet types to LearnerHandler.packetToString()ZOOKEEPER-2207- Enhance error logs with LearnerHandler.packetToString()ZOOKEEPER-2208- Log type of unexpected quorum packet in observer loopZOOKEEPER-2214- Findbugs warning: LearnerHandler.packetToString Dead store to local variableZOOKEEPER-2223- support method-level JUnit testcaseNew FeatureZOOKEEPER-2163- Introduce new ZNode type: containerTestZOOKEEPER-2017- New tests for reconfig failure casesZOOKEEPER-2032- ReconfigBackupTest didn't clean up resources.ZOOKEEPER-2204- LearnerSnapshotThrottlerTest.testHighContentionWithTimeout fails occasionallyRelease Notes - ZooKeeper - Version 3.5.0Sub-taskZOOKEEPER-442- need a way to remove watches that are no longer of interestZOOKEEPER-762- Allow dynamic addition/removal of server nodes in the client APIZOOKEEPER-827- enable r/o mode in C client libraryZOOKEEPER-837- cyclic dependency ClientCnxn, ZooKeeperZOOKEEPER-878- finishPacket and conLossPacket should be methods of PacketZOOKEEPER-910- Use SelectionKey.isXYZ() methods instead of complicated binary logicZOOKEEPER-932- Move blocking read/write calls to SendWorker and RecvWorker ThreadsZOOKEEPER-933- Remove wildcard QuorumPeer.OBSERVER_IDZOOKEEPER-934- Add sanity check for server IDZOOKEEPER-1044- Allow dynamic changes to roles of a peerZOOKEEPER-1113- QuorumMaj counts the number of ACKs but does not check who sent the ACKZOOKEEPER-1191- Synchronization issue - wait not in guarded blockZOOKEEPER-1200- Remove obsolete DataTreeBuilderZOOKEEPER-1201- Clean SaslServerCallbackHandler.javaZOOKEEPER-1213- ZooKeeper server startup fails if configured only with the 'minSessionTimeout' and not 'maxSessionTimeout'ZOOKEEPER-1216- Fix more eclipse compiler warnings, also in TestsZOOKEEPER-1221- Provide accessors for Request.{hdr|txn}ZOOKEEPER-1227- Zookeeper logs is showing -1 as min/max session timeout if there is no sessiontimeout value configuredZOOKEEPER-1235- store KeeperException messages in the Code enumZOOKEEPER-1246- Dead code in PrepRequestProcessor catch Exception blockZOOKEEPER-1247- dead code in PrepRequestProcessor.pRequest multi caseZOOKEEPER-1248- multi transaction sets request.exception without reasonZOOKEEPER-1252- remove unused method o.a.z.test.AxyncTest.restart()ZOOKEEPER-1253- return value of DataTree.createNode is never usedZOOKEEPER-1259- central mapping from type to txn record classZOOKEEPER-1282- Learner.java not following Zab 1.0 protocol - setCurrentEpoch should be done upon receipt of NEWLEADER (before acking it) and not upon receipt of UPTODATEZOOKEEPER-1291- AcceptedEpoch not updated at leader before it proposes the epoch to followersZOOKEEPER-1347- Fix the cnxns to use a concurrent data structuresZOOKEEPER-1411- Consolidate membership management, distinguish between static and dynamic configuration parametersZOOKEEPER-1414- QuorumPeerMainTest.testQuorum, testBadPackets are failing intermittentlyZOOKEEPER-1459- Standalone ZooKeeperServer is not closing the transaction log files on shutdownZOOKEEPER-1626- Zookeeper C client should be tolerant of clock adjustmentsZOOKEEPER-1660- Add documentation for dynamic reconfigurationZOOKEEPER-1730- Make ZooKeeper easier to test - support simulating a session expirationZOOKEEPER-1761- Expose 'check' version api in ZooKeeper clientZOOKEEPER-1762- Implement 'check' version cli commandZOOKEEPER-1830- Support command line shell for removing watchesZOOKEEPER-1831- Document remove watches details to the guideZOOKEEPER-1834- Catch IOException in FileTxnLogZOOKEEPER-1837- Fix JMXEnv checks (potential race conditions)ZOOKEEPER-1849- Need to properly tear down tests in various casesZOOKEEPER-1852- ServerCnxnFactory instance is not properly cleanedupZOOKEEPER-1854- ClientBase ZooKeeper server clean-upZOOKEEPER-1857- PrepRequestProcessotTest doesn't shutdown ZooKeeper serverZOOKEEPER-1858- JMX checks - potential race conditions while stopping and starting serverZOOKEEPER-1867- Bug in ZkDatabaseCorruptionTestZOOKEEPER-1872- QuorumPeer is not shutdown in few casesZOOKEEPER-1873- Unnecessarily InstanceNotFoundException is coming when unregister failed jmxbeansZOOKEEPER-1874- Add proper teardown/cleanups in ReconfigTest to shutdown quorumpeerZOOKEEPER-1904- WatcherTest#testWatchAutoResetWithPending is failingZOOKEEPER-1972- Fix invalid volatile long/int increment (++)ZOOKEEPER-1975- Turn off "internationalization warnings" in findbugs exclude fileZOOKEEPER-1978- Fix Multithreaded correctness WarningsZOOKEEPER-1979- Fix Performance Warnings found by Findbugs 2.0.3ZOOKEEPER-1981- Fix Dodgy Code Warnings identified by findbugs 2.0.3ZOOKEEPER-1988- new test patch to verify dynamic reconfig backward compatibilityZOOKEEPER-1989- backward compatibility of zoo.cfgZOOKEEPER-1993- Keep the client port upon parsing configZOOKEEPER-1995- Safely remove client port in old config file on reconfig itselfBugZOOKEEPER-10- Bad error messageZOOKEEPER-87- Follower does not shut itself down if its too far behind the leader.ZOOKEEPER-366- Session timeout detection can go wrong if the leader system time changesZOOKEEPER-445- Potential bug in leader codeZOOKEEPER-463- C++ tests can't be built on Mac OS using XCode command line toolsZOOKEEPER-492- the tests should have their own log4j.propertiesZOOKEEPER-513- C client disconnect with stand-alone server abnormallyZOOKEEPER-515- Zookeeper quorum didn't provide service when restart after an "Out of memory" crashZOOKEEPER-602- log all exceptions not caught by ZK threadsZOOKEEPER-642- "exceeded deadline by N ms" floods logsZOOKEEPER-649- testObserver timed out once on HudsonZOOKEEPER-653- hudson failure in LETestZOOKEEPER-675- LETest thread fails to joinZOOKEEPER-697- TestQuotaQuorum is failing on HudsonZOOKEEPER-705- Fails to Build due to unknown opcode 'lock' in mt_adaptor.cZOOKEEPER-706- large numbers of watches can cause session re-establishment to failZOOKEEPER-714- snapshotting doesn't handle runtime exceptions (like out of memory) wellZOOKEEPER-732- Improper translation of error into Python exceptionZOOKEEPER-752- address use of "recoverable" vs "revocable" in lock recipes documentationZOOKEEPER-770- Slow add_auth calls with multi-threaded clientZOOKEEPER-780- zkCli.sh generates a ArrayIndexOutOfBoundsExceptionZOOKEEPER-786- Exception in ZooKeeper.toStringZOOKEEPER-832- Invalid session id causes infinite loop during automatic reconnectZOOKEEPER-847- Missing acl check in zookeeper createZOOKEEPER-856- Connection imbalance leads to overloaded ZK instancesZOOKEEPER-857- clarify client vs. server view of session expiration eventZOOKEEPER-872- Small fixes to PurgeTxnLogZOOKEEPER-876- Unnecessary snapshot transfers between new leader and followersZOOKEEPER-877- zkpython does not work with python3.1ZOOKEEPER-885- Zookeeper drops connections under moderate IO loadZOOKEEPER-900- FLE implementation should be improved to use non-blocking socketsZOOKEEPER-915- Errors that happen during sync() processing at the leader do not get propagated back to the client.ZOOKEEPER-936- zkpython is leaking ACL_vectorZOOKEEPER-972- perl Net::ZooKeeper segfaults when setting a watcher on get_childrenZOOKEEPER-973- bind() could fail on Leader because it does not setReuseAddress on its ServerSocketZOOKEEPER-978- ZookeeperServer does not close zk database on shutdwonZOOKEEPER-982- zkServer.sh won't start zookeeper on an ubuntu 10.10 system due to a bug in the startup script.ZOOKEEPER-984- jenkins failure in testSessionMoved - NPE in quorumZOOKEEPER-986- In QuoromCnxManager we are adding sent messgae to lastMessageSent, but we are never removing that message from it after sending it, so this will lead to sending the same message again in next roundZOOKEEPER-991- QuoromPeer.OBSERVER_IDZOOKEEPER-1002- The Barrier sample code should create a EPHEMERAL znode instead of EPHEMERAL_SEQUENTIAL znodeZOOKEEPER-1005- Zookeeper servers fail to elect a leader succesfully.ZOOKEEPER-1023- zkpython: add_auth can deadlock the interpreterZOOKEEPER-1048- addauth command does not work in cli_mt/cli_stZOOKEEPER-1050- zooinspector shell scripts do not workZOOKEEPER-1057- zookeeper c-client, connection to offline server fails to successfully fallback to second zk hostZOOKEEPER-1062- Net-ZooKeeper: Net::ZooKeeper consumes 100% cpu on waitZOOKEEPER-1077- C client lib doesn't build on SolarisZOOKEEPER-1089- zkServer.sh status does not work due to invalid option of ncZOOKEEPER-1100- Killed (or missing) SendThread will cause hanging threadsZOOKEEPER-1105- c client zookeeper_close not send CLOSE_OP request to serverZOOKEEPER-1125- Intermittent java core test failuresZOOKEEPER-1159- ClientCnxn does not propagate session expiration indicationZOOKEEPER-1163- Memory leak in zk_hashtable.c:do_insert_watcher_object()ZOOKEEPER-1167- C api lacks synchronous version of sync() call.ZOOKEEPER-1174- FD leak when network unreachableZOOKEEPER-1179- NettyServerCnxn does not properly close socket on 4 letter word requestsZOOKEEPER-1181- Fix problems with Kerberos TGT renewalZOOKEEPER-1184- jute generated files are not being cleaned up via "ant clean"ZOOKEEPER-1185- Send AuthFailed event to client if SASL authentication failsZOOKEEPER-1189- For an invalid snapshot file(less than 10bytes size) RandomAccessFile stream is leaking.ZOOKEEPER-1190- ant package is not including many of the bin scripts in the package (zkServer.sh for example)ZOOKEEPER-1192- Leader.waitForEpochAck() checks waitingForNewEpoch instead of checking electionFinishedZOOKEEPER-1194- Two possible race conditions during leader establishmentZOOKEEPER-1197- Incorrect socket handling of 4 letter words for NIOZOOKEEPER-1203- Zookeeper systest is missing Junit ClassesZOOKEEPER-1206- Sequential node creation does not use always use digits in node name given certain Locales.ZOOKEEPER-1207- strange ReadOnlyZooKeeperServer ERROR when starting ensembleZOOKEEPER-1208- Ephemeral node not removed after the client session is long goneZOOKEEPER-1209- LeaderElection recipe doesn't handle the split-brain issue, n/w disconnection can bring both the client nodes to be in ELECTEDZOOKEEPER-1212- zkServer.sh stop action is not conformat with LSB para 20.2Â InitÂ ScriptÂ ActionsZOOKEEPER-1214- QuorumPeer should unregister only its previsously registered MBeans instead of use MBeanRegistry.unregisterAll() method.ZOOKEEPER-1220- ./zkCli.sh 'create' command is throwing ArrayIndexOutOfBoundsExceptionZOOKEEPER-1222- getACL should only call DataTree.copyStat when passed in stat is not nullZOOKEEPER-1224- problem across zookeeper clients when reading data written by other clientsZOOKEEPER-1225- Successive invocation of LeaderElectionSupport.start() will bring the ELECTED node to READY and cause no one in ELECTED state.ZOOKEEPER-1236- Security uses proprietary Sun APIsZOOKEEPER-1237- ERRORs being logged when queued responses are sent after socket has closed.ZOOKEEPER-1238- when the linger time was changed for NIO the patch missed NettyZOOKEEPER-1241- Typo in ZooKeeper Recipes and Solutions documentationZOOKEEPER-1256- ClientPortBindTest is failing on Mac OS XZOOKEEPER-1262- Documentation for Lock recipe has major flawZOOKEEPER-1264- FollowerResyncConcurrencyTest failing intermittentlyZOOKEEPER-1268- problems with read only mode, intermittent test failures and ERRORs in the logZOOKEEPER-1269- Multi deserialization issuesZOOKEEPER-1270- testEarlyLeaderAbandonment failing intermittently, quorum formed, no serving.ZOOKEEPER-1271- testEarlyLeaderAbandonment failing on solaris - clients not retrying connectionZOOKEEPER-1273- Copy'n'pasted unit testZOOKEEPER-1274- Support child watches to be displayed with 4 letter zookeeper commands (i.e. wchs, wchp and wchc)ZOOKEEPER-1277- servers stop serving when lower 32bits of zxid roll overZOOKEEPER-1294- One of the zookeeper server is not accepting any requestsZOOKEEPER-1300- Rat complains about incosistent licenses in the src files.ZOOKEEPER-1303- Observer LearnerHandlers are not removed from Leader collection.ZOOKEEPER-1305- zookeeper.c:prepend_string func can dereference null ptrZOOKEEPER-1307- zkCli.sh is exiting when an Invalid ACL exception is thrown from setACL command through clientZOOKEEPER-1311- ZooKeeper test jar is brokenZOOKEEPER-1315- zookeeper_init always reports sessionPasswd=<hidden>ZOOKEEPER-1316- zookeeper_init leaks memory if chroot is just '/'ZOOKEEPER-1317- Possible segfault in zookeeper_initZOOKEEPER-1318- In Python binding, get_children (and get and exists, and probably others) with expired session doesn't raise exception properlyZOOKEEPER-1319- Missing data after restarting+expanding a clusterZOOKEEPER-1323- c client doesn't compile on freebsdZOOKEEPER-1327- there are still remnants of hadoop urlsZOOKEEPER-1330- Zookeeper server not serving the client request even after completion of Leader electionZOOKEEPER-1331- Typo in docs: acheive -> achieveZOOKEEPER-1333- NPE in FileTxnSnapLog when restarting a clusterZOOKEEPER-1334- Zookeeper 3.4.x is not OSGi compliant - MANIFEST.MF is flawedZOOKEEPER-1336- javadoc for multi is confusing, references functionality that doesn't seem to existZOOKEEPER-1338- class cast exceptions may be thrown by multi ErrorResult class (invalid equals)ZOOKEEPER-1339- C clien doesn't build with --enable-debugZOOKEEPER-1340- multi problem - typical user operations are generating ERROR level messages in the serverZOOKEEPER-1343- getEpochToPropose should check if lastAcceptedEpoch is greater or equal than epochZOOKEEPER-1344- ZooKeeper client multi-update command is not considering the Chroot requestZOOKEEPER-1351- invalid test verification in MultiTransactionTestZOOKEEPER-1352- server.InvalidSnapshotTest is using connection timeouts that are too shortZOOKEEPER-1353- C client test suite fails consistentlyZOOKEEPER-1354- AuthTest.testBadAuthThenSendOtherCommands fails intermittentlyZOOKEEPER-1357- Zab1_0Test uses hard-wired port numbers. Specifically, it uses the same port for leader in two different tests. The second test periodically fails complaining that the port is still in use.ZOOKEEPER-1358- In StaticHostProviderTest.java, testNextDoesNotSleepForZero tests that hostProvider.next(0) doesn't sleep by checking that the latency of this call is less than 10secZOOKEEPER-1360- QuorumTest.testNoLogBeforeLeaderEstablishment has several problemsZOOKEEPER-1361- Leader.lead iterates over 'learners' set without proper synchronisationZOOKEEPER-1366- Zookeeper should be tolerant of clock adjustmentsZOOKEEPER-1367- Data inconsistencies and unexpired ephemeral nodes after cluster restartZOOKEEPER-1371- Remove dependency on log4j in the source code.ZOOKEEPER-1373- Hardcoded SASL login context name clashes with Hadoop security configuration overrideZOOKEEPER-1374- C client multi-threaded test suite fails to compile on ARM architectures.ZOOKEEPER-1379- 'printwatches, redo, history and connect '. client commands always print usage. This is not necessaryZOOKEEPER-1380- zkperl: _zk_release_watch doesn't remove items properly from the watch listZOOKEEPER-1382- Zookeeper server holds onto dead/expired session ids in the watch data structuresZOOKEEPER-1384- test-cppunit overrides LD_LIBRARY_PATH and fails if gcc is in non-standard locationZOOKEEPER-1386- avoid flaky URL redirection in "ant javadoc" : replace "http://java.sun.com/javase/6/docs/api/" with "http://download.oracle.com/javase/6/docs/api/"ZOOKEEPER-1387- Wrong epoch file createdZOOKEEPER-1388- Client side 'PathValidation' is missing for the multi-transaction api.ZOOKEEPER-1391- zkCli dies on NoAuthZOOKEEPER-1395- node-watcher double-free reduxZOOKEEPER-1403- zkCli.sh script quoting issueZOOKEEPER-1406- dpkg init scripts don't restart - missing check_priv_sep_dirZOOKEEPER-1412- java client watches inconsistently triggered on reconnectZOOKEEPER-1417- investigate differences in client last zxid handling btw c and java clientsZOOKEEPER-1419- Leader election never settles for a 5-node clusterZOOKEEPER-1427- Writing to local files is done non-atomicallyZOOKEEPER-1431- zkpython: async calls leak memoryZOOKEEPER-1437- Client uses session before SASL authentication completeZOOKEEPER-1439- c sdk: core in log_env for lack of checking the output argumentpwpof getpwuid_rZOOKEEPER-1440- Spurious log error messages when QuorumCnxManager is shutting downZOOKEEPER-1448- Node+Quota creation in transaction log can crash leader startupZOOKEEPER-1451- C API improperly logs getaddrinfo failures on Linux when using glibcZOOKEEPER-1463- external inline function is not compatible with C99ZOOKEEPER-1465- Cluster availability following new leader election takes a long time with large datasets - is correlated to dataset sizeZOOKEEPER-1466- QuorumCnxManager.shutdown missing synchronizationZOOKEEPER-1471- Jute generates invalid C++ codeZOOKEEPER-1473- Committed proposal log retains triple the memory it needs toZOOKEEPER-1474- Cannot build Zookeeper with IBM Java: use of Sun MXBean classesZOOKEEPER-1478- Small bug in QuorumTest.testFollowersStartAfterLeader( )ZOOKEEPER-1479- C Client: zoo_add_auth() doesn't wake up the IO threadZOOKEEPER-1480- ClientCnxn(1161) can't get the current zk server add, so that - Session 0x for server null, unexpected errorZOOKEEPER-1483- Fix leader election recipe documentationZOOKEEPER-1489- Data loss after truncate on transaction logZOOKEEPER-1490- If the configured log directory does not exist zookeeper will not start. Better to create the directory and startZOOKEEPER-1493- C Client: zookeeper_process doesn't invoke completion callback if zookeeper_close has been calledZOOKEEPER-1494- C client: socket leak after receive timeout in zookeeper_interest()ZOOKEEPER-1495- ZK client hangs when using a function not available on the server.ZOOKEEPER-1496- Ephemeral node not getting cleared even after client has exitedZOOKEEPER-1499- clientPort config changes not backwards-compatibleZOOKEEPER-1501- Nagios plugin always returns OK when it cannot connect to zookeeperZOOKEEPER-1513- "Unreasonable length" exception while starting a server.ZOOKEEPER-1514- FastLeaderElection - leader ignores the round information when joining a quorumZOOKEEPER-1519- Zookeeper Async calls can reference free()'d memoryZOOKEEPER-1520- A txn log record with a corrupt sentinel byte looks like EOFZOOKEEPER-1521- LearnerHandler initLimit/syncLimit problems specifying follower socket timeout limitsZOOKEEPER-1522- intermittent failures in Zab test due to NPE in recursiveDelete test functionZOOKEEPER-1531- Correct the documentation of the args for the JavaExample doc.ZOOKEEPER-1533- Correct the documentation of the args for the JavaExample doc.ZOOKEEPER-1535- ZK Shell/Cli re-executes last command on exitZOOKEEPER-1536- c client : memory leak in winport.cZOOKEEPER-1538- Improve space handling in zkServer.sh and zkEnv.shZOOKEEPER-1540- ZOOKEEPER-1411 breaks backwards compatibilityZOOKEEPER-1549- Data inconsistency when follower is receiving a DIFF with a dirty snapshotZOOKEEPER-1551- Observers ignore txns that come after snapshot and UPTODATEZOOKEEPER-1553- Findbugs configuration is missing some dependenciesZOOKEEPER-1554- Can't use zookeeper client without SASLZOOKEEPER-1557- jenkins jdk7 test failure in testBadSaslAuthNotifiesWatchZOOKEEPER-1560- Zookeeper client hangs on creation of large nodesZOOKEEPER-1561- Zookeeper client may hang on a server restartZOOKEEPER-1562- Memory leaks in zoo_multi APIZOOKEEPER-1573- Unable to load database due to missing parent nodeZOOKEEPER-1575- adding .gitattributes to prevent CRLF and LF mismatches for source and text filesZOOKEEPER-1576- Zookeeper cluster - failed to connect to cluster if one of the provided IPs causes java.net.UnknownHostExceptionZOOKEEPER-1578- org.apache.zookeeper.server.quorum.Zab1_0Test failed due to hard code with 33556 portZOOKEEPER-1581- change copyright in notice to 2012ZOOKEEPER-1585- make dist for src/c broken in trunkZOOKEEPER-1590- Patch to add zk.updateServerList(newServerList) broke the buildZOOKEEPER-1591- Windows build is broken because inttypes.h doesn't existZOOKEEPER-1596- Zab1_0Test should ensure that the file is closedZOOKEEPER-1597- Windows build failingZOOKEEPER-1602- a change to QuorumPeerConfig's API broke compatibility with HBaseZOOKEEPER-1603- StaticHostProviderTest testUpdateClientMigrateOrNot hangsZOOKEEPER-1606- intermittent failures in ZkDatabaseCorruptionTest on jenkinsZOOKEEPER-1610- Some classes are using == or != to compare Long/String objects instead of .equals()ZOOKEEPER-1613- The documentation still points to 2008 in the copyright noticeZOOKEEPER-1620- NIOServerCnxnFactory (new code introduced in ZK-1504) opens selectors but never closes themZOOKEEPER-1621- ZooKeeper does not recover from crash when disk was fullZOOKEEPER-1622- session ids will be negative in the year 2022ZOOKEEPER-1624- PrepRequestProcessor abort multi-operation incorrectlyZOOKEEPER-1625- zkServer.sh is looking for clientPort in config file, but it may no longer be there with ZK-1411ZOOKEEPER-1628- Documented list of allowable characters in ZK doc not in line with codeZOOKEEPER-1629- testTransactionLogCorruption occasionally failsZOOKEEPER-1632- fix memory leaks in cli_stZOOKEEPER-1641- Using slope=positive results in a jagged ganglia graph of packets rcvd/sentZOOKEEPER-1642- Leader loading database twiceZOOKEEPER-1643- Windows: fetch_and_add not 64bit-compatible, may not be correctZOOKEEPER-1645- ZooKeeper OSGi package imports not completeZOOKEEPER-1646- mt c client tests fail on Ubuntu RaringZOOKEEPER-1647- OSGi package import/export changes not applied to bin-jarZOOKEEPER-1648- Fix WatcherTest in JDK7ZOOKEEPER-1650- testServerCnxnExpiry failing consistently on solaris apache jenkinsZOOKEEPER-1655- Make jline dependency optional in maven pomZOOKEEPER-1657- Increased CPU usage by unnecessary SASL checksZOOKEEPER-1659- Add JMX support for dynamic reconfigurationZOOKEEPER-1662- Fix to two small bugs in ReconfigTest.testPortChange()ZOOKEEPER-1663- scripts don't work when path contains spacesZOOKEEPER-1667- Watch event isn't handled correctly when a client reestablish to a serverZOOKEEPER-1670- zookeeper should set a default value for SERVER_JVMFLAGS and CLIENT_JVMFLAGS so that memory usage is controlledZOOKEEPER-1672- zookeeper client does not accept "-members" option in reconfig commandZOOKEEPER-1673- Zookeeper don't support cidr in expression in ACL with ip schemeZOOKEEPER-1677- Misuse of INET_ADDRSTRLENZOOKEEPER-1683- ZooKeeper client NPE when updating server list on disconnected clientZOOKEEPER-1684- Failure to update socket addresses on immedate connectionZOOKEEPER-1694- ZooKeeper Leader sends a repeated NEWLEADER quorum packet to followersZOOKEEPER-1695- Inconsistent error code and type for new errors introduced by dynamic reconfigurationZOOKEEPER-1696- Fail to run zookeeper client on Weblogic application serverZOOKEEPER-1697- large snapshots can cause continuous quorum failureZOOKEEPER-1699- Leader should timeout and give up leadership when losing quorum of last proposed configurationZOOKEEPER-1700- FLETest consistently failing - setLastSeenQuorumVerifier seems to be hangingZOOKEEPER-1702- ZooKeeper client may write operation packets before receiving successful response to connection request, can cause TCP RSTZOOKEEPER-1706- Typo in Double Barriers exampleZOOKEEPER-1713- wrong time calculation in zkfuse.ccZOOKEEPER-1714- perl client segfaults if ZOO_READ_ACL_UNSAFE constant is usedZOOKEEPER-1719- zkCli.sh, zkServer.sh and zkEnv.sh regression caused by ZOOKEEPER-1663ZOOKEEPER-1725- Zookeeper Dynamic Conf writes out hostnames when IPs are suppliedZOOKEEPER-1732- ZooKeeper server unable to join established ensembleZOOKEEPER-1733- FLETest#testLE is flaky on windows boxesZOOKEEPER-1742- "make check" doesn't work on macosZOOKEEPER-1744- clientPortAddress breaks "zkServer.sh status"ZOOKEEPER-1745- Wrong Import-Package in the META-INF/MANIFEST.MF of zookeeper 3.4.5 bundleZOOKEEPER-1750- Race condition producing NPE in NIOServerCnxn.toStringZOOKEEPER-1751- ClientCnxn#run could miss the second ping or connection get dropped before a pingZOOKEEPER-1753- ClientCnxn is not properly releasing the resources, which are used to ping RwServerZOOKEEPER-1754- Read-only server allows to create znodeZOOKEEPER-1755- Concurrent operations of four letter 'dump' ephemeral command and killSession causing NPEZOOKEEPER-1756- zookeeper_interest() in C client can return a timeval of 0ZOOKEEPER-1765- Update code conventions link on "How to contribute" pageZOOKEEPER-1768- Cluster fails election loop until the device is fullZOOKEEPER-1769- ZooInspector can't display node data/metadata/ACLsZOOKEEPER-1770- NullPointerException in SnapshotFormatterZOOKEEPER-1773- incorrect reference to jline version/lib in docsZOOKEEPER-1774- QuorumPeerMainTest fails consistently with "complains about host" assertion failureZOOKEEPER-1775- Ephemeral nodes not present in one of the members of the ensembleZOOKEEPER-1776- Ephemeral nodes not present in one of the members of the ensembleZOOKEEPER-1777- Missing ephemeral nodes in one of the members of the ensembleZOOKEEPER-1779- ReconfigTest littering the source root with test filesZOOKEEPER-1781- ZooKeeper Server fails if snapCount is set to 1ZOOKEEPER-1783- Distinguish initial configuration from first established configurationZOOKEEPER-1784- Logic to process INFORMANDACTIVATE packets in syncWithLeader seems bogusZOOKEEPER-1785- Small fix in zkServer.sh to support new configuration formatZOOKEEPER-1786- ZooKeeper data model documentation is incorrectZOOKEEPER-1789- 3.4.x observer causes NPE on 3.5.0 (trunk) participantsZOOKEEPER-1790- Deal with special ObserverId in QuorumCnxManager.receiveConnectionZOOKEEPER-1791- ZooKeeper package includes unnecessary jars that are part of the package.ZOOKEEPER-1795- unable to build c client on ubuntuZOOKEEPER-1797- PurgeTxnLog may delete data logs during rollZOOKEEPER-1798- Fix race condition in testNormalObserverRunZOOKEEPER-1799- SaslAuthFailDesignatedClientTest.testAuth fails frequently on SUSEZOOKEEPER-1800- jenkins failure in testGetProposalFromTxnZOOKEEPER-1801- TestReconfig failureZOOKEEPER-1806- testCurrentServersAreObserversInNextConfig failing frequently on trunk with non-jdk6ZOOKEEPER-1807- Observers spam each other creating connections to the election addrZOOKEEPER-1810- Add version to FLE notifications for trunkZOOKEEPER-1811- The ZooKeeperSaslClient service name principal is hardcoded to "zookeeper"ZOOKEEPER-1812- ZooInspector reconnection always fails if first connection failsZOOKEEPER-1813- Zookeeper restart fails due to missing node from snapshotZOOKEEPER-1814- Reduction of waiting time during Fast Leader ElectionZOOKEEPER-1818- Fix don't care for trunkZOOKEEPER-1819- DeserializationPerfTest calls method with wrong argumentsZOOKEEPER-1821- very ugly warning when compiling load_gen.cZOOKEEPER-1823- LogFormatter should support printing transaction data as a stringZOOKEEPER-1835- dynamic configuration file renaming fails on WindowsZOOKEEPER-1836- addrvec_next() fails to set next parameter if addrvec_hasnext() returns falseZOOKEEPER-1839- Deadlock in NettyServerCnxnZOOKEEPER-1843- Oddity in ByteBufferInputStream skipZOOKEEPER-1844- TruncateTest fails on windowsZOOKEEPER-1847- Normalize line endings in repositoryZOOKEEPER-1848- [WINDOWS] Java NIO socket channels does not work with Windows ipv6 on JDK6ZOOKEEPER-1850- cppunit test testNonexistingHost in TestZookeeperInit is failing on UnbuntuZOOKEEPER-1851- Follower and Observer Request Processors Do Not Forward create2 RequestsZOOKEEPER-1855- calls to zoo_set_server() fail to flush outstanding request queue.ZOOKEEPER-1860- Async versions of reconfig don't actually throw KeeperException nor InterruptedExceptionZOOKEEPER-1861- ConcurrentHashMap isn't used properly in QuorumCnxManagerZOOKEEPER-1862- ServerCnxnTest.testServerCnxnExpiry is intermittently failingZOOKEEPER-1863- Race condition in commit processor leading to out of order request completion, xid mismatch on client.ZOOKEEPER-1864- quorumVerifier is null when creating a QuorumPeerConfig from parsing a Properties objectZOOKEEPER-1865- Fix retry logic in Learner.connectToLeader()ZOOKEEPER-1870- flakey test in StandaloneDisabledTest.startSingleServerTestZOOKEEPER-1875- NullPointerException in ClientCnxn$EventThread.processEventZOOKEEPER-1877- Malformed ACL Id can crash server with skipACL=yesZOOKEEPER-1878- Inconsistent behavior in autocreation of dataDir and dataLogDirZOOKEEPER-1883- C client unit test failuresZOOKEEPER-1888- ZkCli.cmd commands fail with "'java' is not recognized as an internal or external command"ZOOKEEPER-1891- StaticHostProviderTest.testUpdateLoadBalancing times outZOOKEEPER-1892- addrvec_next gets called twice when failing over to the next serverZOOKEEPER-1894- ObserverTest.testObserver fails consistentlyZOOKEEPER-1895- update all notice files, copyright, etc... with the new year - 2014ZOOKEEPER-1896- Reconfig error messages when upgrading from 3.4.6 to 3.5.0ZOOKEEPER-1897- ZK Shell/Cli not processing commandsZOOKEEPER-1900- NullPointerException in truncateZOOKEEPER-1901- [JDK8] Sort children for comparison in AsyncOps testsZOOKEEPER-1906- zkpython: invalid data in GetData for empty nodeZOOKEEPER-1909- removeWatches doesn't return NOWATCHER when there is no watch setZOOKEEPER-1910- RemoveWatches wrongly removes the watcher if multiple watches exists on a pathZOOKEEPER-1911- REST contrib module does not include all required files when packagedZOOKEEPER-1913- Invalid manifest files due to bogus revision property valueZOOKEEPER-1917- Apache Zookeeper logs cleartext admin passwordsZOOKEEPER-1919- Update the C implementation of removeWatches to have it match ZOOKEEPER-1910ZOOKEEPER-1923- A typo in zookeeperStarted documentZOOKEEPER-1926- Unit tests should only use build/test/data for dataZOOKEEPER-1932- org.apache.zookeeper.test.LETest.testLE fails once in a whileZOOKEEPER-1933- Windows release build of zk client cannot connect to zk serverZOOKEEPER-1939- ReconfigRecoveryTest.testNextConfigUnreachable is failingZOOKEEPER-1945- deb - zkCli.sh, zkServer.sh and zkEnv.sh regression caused by ZOOKEEPER-1663ZOOKEEPER-1949- recipes jar not included in the distribution packageZOOKEEPER-1950- configBackwardCompatibilityMode breaks compatibilityZOOKEEPER-1964- Fix Flaky Test in ReconfigTest.javaZOOKEEPER-1966- VS and line breaksZOOKEEPER-1969- Fix Port Already In Use for JettyAdminServerTestZOOKEEPER-1973- Jetty Server changes broke ibm6 supportZOOKEEPER-1974- winvs2008 jenkins job failing with "unresolved external symbol"ZOOKEEPER-1983- Append to zookeeper.out (not overwrite) to support logrotationZOOKEEPER-1984- testLeaderTimesoutOnNewQuorum is a flakey testZOOKEEPER-1985- Memory leak in C clientZOOKEEPER-1987- unable to restart 3 node clusterZOOKEEPER-1990- suspicious instantiation of java Random instancesZOOKEEPER-1991- zkServer.sh returns with a zero exit status when a ZooKeeper process is already runningZOOKEEPER-1992- backward compatibility of zoo.cfgZOOKEEPER-1998- C library calls getaddrinfo unconditionally from zookeeper_interestZOOKEEPER-1999- Converting CRLF to LF in DynamicConfigBackwardCompatibilityTestZOOKEEPER-2000- Fix ReconfigTest.testPortChangeImprovementZOOKEEPER-74- Cleaning/restructuring up Zookeeper server codeZOOKEEPER-107- Allow dynamic changes to server cluster membershipZOOKEEPER-216- Improve logging in C clientZOOKEEPER-271- Better command line parsing in ZookeeperMain.ZOOKEEPER-297- centralize version numbering in the source/buildZOOKEEPER-304- factor out common methods from zookeeper.javaZOOKEEPER-556- Startup messages should account for common error of missing leading slash in config filesZOOKEEPER-657- Cut down the running time of ZKDatabase corruption.ZOOKEEPER-715- add better reporting for initLimit being reachedZOOKEEPER-716- dump server memory detail to the log during startupZOOKEEPER-721- Minor cleanup related to the log4j version change from 1.2.15 -> 1.2.16ZOOKEEPER-748- zkPython's NodeExistsException should include information about the node that existsZOOKEEPER-751- Recipe heading refers to 'recoverable' but should be 'revocable'ZOOKEEPER-755- Improve c client documentation to reflect that zookeeper_init() creates its own copy of list of host.ZOOKEEPER-756- some cleanup and improvements for zooinspectorZOOKEEPER-759- Stop accepting connections when close to file descriptor limitZOOKEEPER-760- Improved string encoding and decoding performanceZOOKEEPER-761- Removesynchronouscalls from thesingle-threadedC clieant API, since they are documented not to workZOOKEEPER-767- Submitting Demo/Recipe Shared / Exclusive Lock CodeZOOKEEPER-776- API should sanity check sessionTimeout argumentZOOKEEPER-802- Improved LogGraph filters + documentationZOOKEEPER-845- remove duplicate code from netty and nio ServerCnxn classesZOOKEEPER-860- Add alternative search-provider to ZK siteZOOKEEPER-896- Improve C client to support dynamic authentication schemesZOOKEEPER-906- Improve C client connection reliability by making it sleep between reconnect attempts as in Java ClientZOOKEEPER-912- ZooKeeper client logs trace and debug messages at level INFOZOOKEEPER-922- enable faster timeout of sessions in case of unexpected socket disconnectZOOKEEPER-927- there are currently 24 RAT warnings in the build -- address directly or via exclusionsZOOKEEPER-935- Concurrent primitives library - shared lockZOOKEEPER-955- Use Atomic(Integer|Long) for (Z)XidZOOKEEPER-1000- Provide SSL in zookeeper to be able to run cross colos.ZOOKEEPER-1019- zkfuse doesn't list dependency on boost in READMEZOOKEEPER-1032- speed up recovery from leader failureZOOKEEPER-1054- Drop connections from servers not in the cluster configurationZOOKEEPER-1067- the doxygen doc should be generated as part of the releaseZOOKEEPER-1096- Leader communication should listen on specified IP, not wildcard addressZOOKEEPER-1147- Add support for local sessionsZOOKEEPER-1162- consistent handling of jute.maxbuffer when attempting to read large zk "directories"ZOOKEEPER-1170- Fix compiler (eclipse) warnings: unused imports, unused variables, missing genericsZOOKEEPER-1175- DataNode references parent node for no reasonZOOKEEPER-1177- Enabling a large number of watches for a large number of clientsZOOKEEPER-1178- Add eclipse target for supporting Apache IvyDEZOOKEEPER-1205- Add a unit test for Kerberos Ticket-Granting Ticket (TGT) renewalZOOKEEPER-1219- LeaderElectionSupport recipe is unnecessarily dispatching the READY_START event even if the ELECTED node stopped/expired simultaneously.ZOOKEEPER-1229- C client hashtable_remove redundantly calls hash functionZOOKEEPER-1232- remove unused o.a.z.server.util.ProfilerZOOKEEPER-1239- add logging/stats to identify fsync stallsZOOKEEPER-1261- Make ZooKeeper code mode Dependency Injection compliant.ZOOKEEPER-1292- FLETest is flakyZOOKEEPER-1293- Remove unused readyToStart from Leader.javaZOOKEEPER-1296- Add zookeeper-setup-conf.sh scriptZOOKEEPER-1321- Add number of client connections metric in JMX and srvrZOOKEEPER-1322- Cleanup/fix logging in Quorum code.ZOOKEEPER-1324- Remove Duplicate NEWLEADER packets from the Leader to the Follower.ZOOKEEPER-1335- Add support for --config to zkEnv.sh to specify a config directory different than what is expectedZOOKEEPER-1342- quorum Listener & LearnerCnxAcceptor are missing thread namesZOOKEEPER-1345- Add a .gitignore file with general exclusions and Eclipse project files excludedZOOKEEPER-1346- Add Jetty HTTP server support for four letter words.ZOOKEEPER-1350- Please make JMX registration optional in LearnerZooKeeperServerZOOKEEPER-1377- add support for dumping a snapshot file content (similar to LogFormatter)ZOOKEEPER-1389- it would be nice if start-foreground used exec $JAVA in order to get rid of the intermediate shell processZOOKEEPER-1390- some expensive debug code not protected by a check for debugZOOKEEPER-1397- Remove BookKeeper documentation linksZOOKEEPER-1400- Allow logging via callback instead of raw FILE pointerZOOKEEPER-1407- Support GetData and GetChildren in MultiZOOKEEPER-1408- CLI: sort output of ls commandZOOKEEPER-1409- CLI: deprecate ls2 commandZOOKEEPER-1413- Use on-disk transaction log for learner sync upZOOKEEPER-1426- add version command to the zookeeper serverZOOKEEPER-1432- Add javadoc and debug logging for checkACL() method in PrepRequestProcessorZOOKEEPER-1433- improve ZxidRolloverTest (test seems flakey)ZOOKEEPER-1435- cap space usage of default log4j rolling policyZOOKEEPER-1445- Add support for binary data for zktreeutilZOOKEEPER-1452- zoo_multi() & zoo_amulti() update operations for zkpythonZOOKEEPER-1454- Document how to run autoreconf if cppunit is installed in a non-standard directoryZOOKEEPER-1469- Adding Cross-Realm support for secure Zookeeper client authenticationZOOKEEPER-1481- allow the C cli to run exists with a watcherZOOKEEPER-1497- Allow server-side SASL login with JAAS configuration to be programmatically set (rather than only by reading JAAS configuration file)ZOOKEEPER-1502- Prevent multiple zookeeper servers from using the same data directoryZOOKEEPER-1503- remove redundant JAAS configuration code in SaslAuthTest and SaslAuthFailTestZOOKEEPER-1504- Multi-thread NIOServerCnxnZOOKEEPER-1505- Multi-thread CommitProcessorZOOKEEPER-1506- Re-try DNS hostname -> IP resolution if node connection failsZOOKEEPER-1510- Should not log SASL errors for non-secure usageZOOKEEPER-1525- Plumb ZooKeeperServer object into auth pluginsZOOKEEPER-1532- Correct the documentation of the args for the JavaExample doc.ZOOKEEPER-1552- Enable sync request processor in ObserverZOOKEEPER-1564- Allow JUnit test build with IBM JavaZOOKEEPER-1572- Add an async interface for multi requestZOOKEEPER-1574- mismatched CR/LF endings in text filesZOOKEEPER-1583- Document maxClientCnxns in conf/zoo_sample.cfgZOOKEEPER-1584- Adding mvn-install target for deploying the zookeeper artifacts to .m2 repository.ZOOKEEPER-1598- Ability to support more digits in the version stringZOOKEEPER-1601- document changes for multi-threaded CommitProcessor and NIOServerCnxnZOOKEEPER-1615- minor typos in ZooKeeper Programmer's Guide web pageZOOKEEPER-1619- Allow spaces in URLZOOKEEPER-1627- Add org.apache.zookeeper.common to exported packages in OSGi MANIFEST headersZOOKEEPER-1634- A new feature proposal to ZooKeeper: authentication enforcementZOOKEEPER-1635- ZooKeeper C client doesn't compile on 64 bit WindowsZOOKEEPER-1638- Redundant zk.getZKDatabase().clear();ZOOKEEPER-1666- Avoid Reverse DNS lookup if the hostname in connection string is literal IP address.ZOOKEEPER-1679- c client: use -Wdeclaration-after-statementZOOKEEPER-1681- ZooKeeper 3.4.x can optionally use netty for nio but the pom does not declare the dep as optionalZOOKEEPER-1691- Add a flag to disable standalone modeZOOKEEPER-1701- When new and old config have the same version, no need to write new config to disk or create new connectionsZOOKEEPER-1715- Upgrade netty versionZOOKEEPER-1724- Support Kerberos authentication for non-SUN JDKZOOKEEPER-1728- Better error message when reconfig invoked in standalone modeZOOKEEPER-1746- AsyncCallback.*Callback don't have any JavadocZOOKEEPER-1748- TCP keepalive for leader election connectionsZOOKEEPER-1749- Login outside of Zookeeper clientZOOKEEPER-1758- Add documentation for zookeeper.observer.syncEnabled flagZOOKEEPER-1759- Adding ability to allow READ operations for authenticated users, versus keeping ACLs wide open for READZOOKEEPER-1766- Consistent log severity level guards and statementsZOOKEEPER-1771- ZooInspector authenticationZOOKEEPER-1778- Use static final Logger objectsZOOKEEPER-1796- Move common code from {Follower, Observer}ZooKeeperServer into LearnerZooKeeperServerZOOKEEPER-1815- Tolerate incorrectly set system hostname in testsZOOKEEPER-1876- Add support for installing windows services in .cmd scriptsZOOKEEPER-1879- improve the correctness checking of txn log replayZOOKEEPER-1881- Shutdown server immediately upon PrivilegedActionExceptionZOOKEEPER-1907- Improve Thread handlingZOOKEEPER-1915- Use $(ProjectDir) macro to specify include directoriesZOOKEEPER-1946- Server logging should reflect dynamically reconfigured addressZOOKEEPER-1948- Enable JMX remote monitoring - Updated patch for review commentsZOOKEEPER-1953- Add solution and project files to enable build with current Visual Studio editions (VS 2012/2013) - 32-bit and 64-bit.ZOOKEEPER-1968- Make Jetty dependencies optional in ivy.xmlZOOKEEPER-1970- Fix Findbugs WarningsZOOKEEPER-1982- Refactor (touch|add)Session in SessionTrackerImpl.javaZOOKEEPER-1986- refactor log trace on touchSessionZOOKEEPER-1994- Backup config files.New FeatureZOOKEEPER-364- command line interface for zookeeper.ZOOKEEPER-679- Offers a node design for interacting with the Java Zookeeper client.ZOOKEEPER-781- provide a generalized "connection strategy" for ZooKeeper clientsZOOKEEPER-823- update ZooKeeper java client to optionally use Netty for connectionsZOOKEEPER-911- move operations from methods to individual classesZOOKEEPER-920- L7 (application layer) ping supportZOOKEEPER-1080- Provide a Leader Election framework based on Zookeeper recipeZOOKEEPER-1098- Upload native libraries as Maven artifactsZOOKEEPER-1161- Provide an option for disabling auto-creation of the data directoryZOOKEEPER-1297- Add stat information to create() callZOOKEEPER-1355- Add zk.updateServerList(newServerList)ZOOKEEPER-1482- Batch get to improve perfermanceZOOKEEPER-1760- Provide an interface for check version of a nodeZOOKEEPER-1829- Umbrella jira for removing watches that are no longer of interestZOOKEEPER-1887- C implementation of removeWatchesZOOKEEPER-1962- Add a CLI command to recursively list a znode and childrenTaskZOOKEEPER-852- Check path validation in C clientZOOKEEPER-899- Update Netty version in trunk to 3.2.2ZOOKEEPER-1072- Support for embedded ZooKeeperZOOKEEPER-1149- users cannot migrate from 3.4->3.3->3.4 server code against a single datadirZOOKEEPER-1176- Remove dead code and basic cleanup in DataTreeZOOKEEPER-1182- Make findbugs usable in EclipseZOOKEEPER-1193- Remove upgrade codeZOOKEEPER-1263- fix handling of min/max session timeout value initializationZOOKEEPER-1378- Provide option to turn off sending of diffsZOOKEEPER-1430- add maven deploy support to the buildZOOKEEPER-1509- Please update documentation to reflect updated FreeBSD support.ZOOKEEPER-1604- remove rpm/deb/... packagingZOOKEEPER-1918- Add 64 bit Windows as a supported development platformZOOKEEPER-1938- bump version in the C library as we prepare for 3.5.0 releaseTestZOOKEEPER-1328- Misplaced assertion for the test case 'FLELostMessageTest' and not identifying misfunctionsZOOKEEPER-1337- multi's "Transaction" class is missing tests.ZOOKEEPER-1718- Support JLine 2WishZOOKEEPER-964- How to avoid dead nodes generated? These nodes can't be deleted because there parent don't have delete and setacl permission.ZOOKEEPER-1326- The CLI commands "delete" and "rmr" are confusing. Can we have "delete" + "deleteall" instead?ZOOKEEPER-1727- Doc request: The right way to expand a clusterCopyright ©The Apache Software Foundation.